/**
 * angular-ui-utils - Swiss-Army-Knife of AngularJS tools (with no external dependencies!)
 * @version v0.2.3 - 2015-03-30
 * @link http://angular-ui.github.com
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("ui.alias",[]).config(["$compileProvider","uiAliasConfig",function(b,a){a=a||{};angular.forEach(a,function(d,c){if(angular.isString(d)){d={replace:true,template:d}}b.directive(c,function(){return d})})}]);angular.module("ui.event",[]).directive("uiEvent",["$parse",function(a){return function(b,e,d){var c=b.$eval(d.uiEvent);angular.forEach(c,function(h,f){var g=a(h);e.bind(f,function(i){var j=Array.prototype.slice.call(arguments);j=j.splice(1);g(b,{$event:i,$params:j});if(!b.$$phase){b.$apply()}})})}}]);angular.module("ui.format",[]).filter("format",function(){return function(c,b){var e=c;if(angular.isString(e)&&b!==undefined){if(!angular.isArray(b)&&!angular.isObject(b)){b=[b]}if(angular.isArray(b)){var d=b.length;var a=function(g,f){f=parseInt(f,10);return(f>=0&&f<d)?b[f]:g};e=e.replace(/\$([0-9]+)/g,a)}else{angular.forEach(b,function(g,f){e=e.split(":"+f).join(g)})}}return e}});angular.module("ui.highlight",[]).filter("highlight",function(){return function(c,a,b){if(c&&(a||angular.isNumber(a))){c=c.toString();a=a.toString();if(b){return c.split(a).join('<span class="ui-match">'+a+"</span>")}else{return c.replace(new RegExp(a,"gi"),'<span class="ui-match">$&</span>')}}else{return c}}});angular.module("ui.include",[]).directive("uiInclude",["$http","$templateCache","$anchorScroll","$compile",function(d,b,c,a){return{restrict:"ECA",terminal:true,compile:function(g,e){var f=e.uiInclude||e.src,i=e.fragment||"",h=e.onload||"",j=e.autoscroll;return function(n,l){var p=0,k;var o=function(){if(k){k.$destroy();k=null}l.html("")};function m(){var r=++p;var s=n.$eval(f);var q=n.$eval(i);if(s){d.get(s,{cache:b}).success(function(u){if(r!==p){return}if(k){k.$destroy()}k=n.$new();var t;if(q){t=angular.element("<div/>").html(u).find(q)}else{t=angular.element("<div/>").html(u).contents()}l.html(t);a(t)(k);if(angular.isDefined(j)&&(!j||n.$eval(j))){c()}k.$emit("$includeContentLoaded");n.$eval(h)}).error(function(){if(r===p){o()}})}else{o()}}n.$watch(i,m);n.$watch(f,m)}}}}]);angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){return{compile:function(b,a){if(!a.type||a.type.toLowerCase()!=="checkbox"){return angular.noop}return function(c,e,d){c.$watch(d.uiIndeterminate,function(f){e[0].indeterminate=!!f})}}}}]);angular.module("ui.inflector",[]).filter("inflector",function(){function c(d){d=d.replace(/([A-Z])|([\-|\_])/g,function(f,e){return" "+(e||"")});return d.replace(/\s\s+/g," ").trim().toLowerCase().split(" ")}function b(e){var d=[];angular.forEach(e,function(f){d.push(f.charAt(0).toUpperCase()+f.substr(1))});return d}var a={humanize:function(d){return b(c(d)).join(" ")},underscore:function(d){return c(d).join("_")},variable:function(d){d=c(d);d=d[0]+b(d.slice(1)).join("");return d}};return function(d,e){if(e!==false&&angular.isString(d)){e=e||"humanize";return a[e](d)}else{return d}}});angular.module("ui.jq",[]).value("uiJqConfig",{}).directive("uiJq",["uiJqConfig","$timeout",function uiJqInjectingFunction(c,a){return{restrict:"A",compile:function b(g,d){if(!angular.isFunction(g[d.uiJq])){throw new Error('ui-jq: The "'+d.uiJq+'" function does not exist')}var f=c&&c[d.uiJq];return function e(i,l,h){if(h.ngModel&&l.is("select,input,textarea")){l.bind("change",function(){l.trigger("input")})}function k(){var m=[];if(h.uiOptions){m=i.$eval("["+h.uiOptions+"]");if(angular.isObject(f)&&angular.isObject(m[0])){m[0]=angular.extend({},f,m[0])}}else{if(f){m=[f]}}return m}function j(){a(function(){l[h.uiJq].apply(l,k())},0,false)}if(h.uiRefresh){i.$watch(h.uiRefresh,function(){j()})}j()}}}}]);angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function keypress(b){var a={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"};var c=function(d){return d.charAt(0).toUpperCase()+d.slice(1)};return function(h,f,i,d){var g,e=[];g=f.$eval(d["ui"+c(h)]);angular.forEach(g,function(l,j){var m,n;n=b(l);angular.forEach(j.split(" "),function(k){m={expression:n,keys:{}};angular.forEach(k.split("-"),function(o){m.keys[o]=true});e.push(m)})});i.bind(h,function(m){var l=!!(m.metaKey&&!m.ctrlKey);var o=!!m.altKey;var k=!!m.ctrlKey;var j=!!m.shiftKey;var n=m.keyCode;if(h==="keypress"&&!j&&n>=97&&n<=122){n=n-32}angular.forEach(e,function(q){var u=q.keys[a[n]]||q.keys[n.toString()];var t=!!q.keys.meta;var r=!!q.keys.alt;var s=!!q.keys.ctrl;var p=!!q.keys.shift;if(u&&(t===l)&&(r===o)&&(s===k)&&(p===j)){f.$apply(function(){q.expression(f,{"$event":m})})}})})}}]);angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(a){return{link:function(c,d,b){a("keydown",c,d,b)}}}]);angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(a){return{link:function(c,d,b){a("keypress",c,d,b)}}}]);angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(a){return{link:function(c,d,b){a("keyup",c,d,b)}}}]);angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{"9":/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:true}).directive("uiMask",["uiMaskConfig","$parse",function(c,b){return{priority:100,require:"ngModel",restrict:"A",compile:function a(){var d=c;return function e(E,y,M,Q){var p=false,U=false,k,C,F,V,S,L,P,j,f=M.placeholder,n=M.maxlength,l,O,q,D;function m(X){if(!angular.isDefined(X)){return K()}g(X);if(!p){return K()}G();r();return true}function N(X){if(!angular.isDefined(X)){return}F=X;if(p){s()}}function o(X){if(!p){return X}L=h(X||"");j=R(L);Q.$setValidity("mask",j);return j&&L.length?T(L):undefined}function t(X){if(!p){return X}L=h(X||"");j=R(L);Q.$viewValue=L.length?T(L):"";Q.$setValidity("mask",j);if(L===""&&M.required){Q.$setValidity("required",!Q.$error.required)}return j?L:undefined}var A={};if(M.uiOptions){A=E.$eval("["+M.uiOptions+"]");if(angular.isObject(A[0])){A=(function(Y,Z){for(var X in Y){if(Object.prototype.hasOwnProperty.call(Y,X)){if(Z[X]===undefined){Z[X]=angular.copy(Y[X])}else{angular.extend(Z[X],Y[X])}}}return Z})(d,A[0])}}else{A=d}M.$observe("uiMask",m);M.$observe("placeholder",N);var J=false;M.$observe("modelViewValue",function(X){if(X==="true"){J=true}});E.$watch(M.ngModel,function(Y){if(J&&Y){var X=b(M.ngModel);X.assign(E,Q.$viewValue)}});Q.$formatters.push(o);Q.$parsers.push(t);function K(){p=false;I();if(angular.isDefined(f)){y.attr("placeholder",f)}else{y.removeAttr("placeholder")}if(angular.isDefined(n)){y.attr("maxlength",n)}else{y.removeAttr("maxlength")}y.val(Q.$modelValue);Q.$viewValue=Q.$modelValue;return false}function G(){L=O=h(Q.$viewValue||"");P=l=T(L);j=R(L);var X=j&&L.length?P:"";if(M.maxlength){y.attr("maxlength",k[k.length-1]*2)}y.attr("placeholder",F);y.val(X);Q.$viewValue=X}function r(){if(U){return}y.bind("blur",v);y.bind("mousedown mouseup",w);y.bind("input keyup click focus",s);U=true}function I(){if(!U){return}y.unbind("blur",v);y.unbind("mousedown",w);y.unbind("mouseup",w);y.unbind("input",s);y.unbind("keyup",s);y.unbind("click",s);y.unbind("focus",s);U=false}function R(X){return X.length?X.length>=S:true}function h(Z){var Y="",X=C.slice();Z=Z.toString();angular.forEach(V,function(aa){Z=Z.replace(aa,"")});angular.forEach(Z.split(""),function(aa){if(X.length&&X[0].test(aa)){Y+=aa;X.shift()}});return Y}function T(X){var Y="",Z=k.slice();angular.forEach(F.split(""),function(ab,aa){if(X.length&&aa===Z[0]){Y+=X.charAt(0)||"_";X=X.substr(1);Z.shift()}else{Y+=ab}});return Y}function x(X){var Y=M.placeholder;if(typeof Y!=="undefined"&&Y[X]){return Y[X]}else{return"_"}}function i(){return F.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function g(Y){var Z=0;k=[];C=[];F="";if(typeof Y==="string"){S=0;var ab=false,X=0,aa=Y.split("");angular.forEach(aa,function(ad,ac){if(A.maskDefinitions[ad]){k.push(Z);F+=x(ac-X);C.push(A.maskDefinitions[ad]);Z++;if(!ab){S++}}else{if(ad==="?"){ab=true;X++}else{F+=ad;Z++}}})}k.push(k.slice().pop()+1);V=i();p=k.length>1?true:false}function v(){if(A.clearOnBlur){q=0;D=0;if(!j||L.length===0){P="";y.val("");E.$apply(function(){Q.$setViewValue("")})}}}function w(X){if(X.type==="mousedown"){y.bind("mouseout",H)}else{y.unbind("mouseout",H)}}y.bind("mousedown mouseup",w);function H(){D=B(this);y.unbind("mouseout",H)}function s(au){au=au||{};var ai=au.which,aj=au.type;if(ai===16||ai===91){return}var aw=y.val(),ar=l,aa,aq=h(aw),Z=O,ad=false,ao=W(this)||0,ag=q||0,ae=ao-ag,ap=k[0],am=k[aq.length]||k.slice().shift(),al=D||0,ah=B(this)>0,an=al>0,ak=(aw.length>ar.length)||(al&&aw.length>ar.length-al),Y=(aw.length<ar.length)||(al&&aw.length===ar.length-al),ac=(ai>=37&&ai<=40)&&au.shiftKey,ab=ai===37,at=ai===8||(aj!=="keyup"&&Y&&(ae===-1)),af=ai===46||(aj!=="keyup"&&Y&&(ae===0)&&!an),X=(ab||at||aj==="click")&&ao>ap;D=B(this);if(ac||(ah&&(aj==="click"||aj==="keyup"))){return}if((aj==="input")&&Y&&!an&&aq===Z){while(at&&ao>ap&&!z(ao)){ao--}while(af&&ao<am&&k.indexOf(ao)===-1){ao++}var av=k.indexOf(ao);aq=aq.substring(0,av)+aq.substring(av+1);ad=true}aa=T(aq);l=aa;O=aq;y.val(aa);if(ad){E.$apply(function(){Q.$setViewValue(aq)})}if(ak&&(ao<=ap)){ao=ap+1}if(X){ao--}ao=ao>am?am:ao<ap?ap:ao;while(!z(ao)&&ao>ap&&ao<am){ao+=X?-1:1}if((X&&ao<am)||(ak&&!z(ag))){ao++}q=ao;u(this,ao)}function z(X){return k.indexOf(X)>-1}function W(Y){if(!Y){return 0}if(Y.selectionStart!==undefined){return Y.selectionStart}else{if(document.selection){Y.focus();var X=document.selection.createRange();X.moveStart("character",Y.value?-Y.value.length:0);return X.text.length}}return 0}function u(Y,Z){if(!Y){return 0}if(Y.offsetWidth===0||Y.offsetHeight===0){return}if(Y.setSelectionRange){Y.focus();Y.setSelectionRange(Z,Z)}else{if(Y.createTextRange){var X=Y.createTextRange();X.collapse(true);X.moveEnd("character",Z);X.moveStart("character",Z);X.select()}}}function B(X){if(!X){return 0}if(X.selectionStart!==undefined){return(X.selectionEnd-X.selectionStart)}if(document.selection){return(document.selection.createRange().text.length)}return 0}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(aa){if(this===null){throw new TypeError()}var Z=Object(this);var X=Z.length>>>0;if(X===0){return -1}var ab=0;if(arguments.length>1){ab=Number(arguments[1]);if(ab!==ab){ab=0}else{if(ab!==0&&ab!==Infinity&&ab!==-Infinity){ab=(ab>0||-1)*Math.floor(Math.abs(ab))}}}if(ab>=X){return -1}var Y=ab>=0?ab:Math.max(X-Math.abs(ab),0);for(;Y<X;Y++){if(Y in Z&&Z[Y]===aa){return Y}}return -1}}}}}}]);angular.module("ui.reset",[]).value("uiResetConfig",null).directive("uiReset",["uiResetConfig",function(a){var b=null;if(a!==undefined){b=a}return{require:"ngModel",link:function(d,g,c,e){var f;f=angular.element('<a class="ui-reset" />');g.wrap('<span class="ui-resetwrap" />').after(f);f.bind("click",function(h){h.preventDefault();d.$apply(function(){if(c.uiReset){e.$setViewValue(d.$eval(c.uiReset))}else{e.$setViewValue(b)}e.$render()})})}}}]);angular.module("ui.route",[]).directive("uiRoute",["$location","$parse",function(b,a){return{restrict:"AC",scope:true,compile:function(d,c){var e;if(c.uiRoute){e="uiRoute"}else{if(c.ngHref){e="ngHref"}else{if(c.href){e="href"}else{throw new Error("uiRoute missing a route or href property on "+d[0])}}}return function(g,l,i){var f=a(i.ngModel||i.routeModel||"$uiRoute").assign;var h=angular.noop;function k(m){var n=m.indexOf("#");if(n>-1){m=m.substr(n+1)}h=function o(){f(g,(b.path().indexOf(m)>-1))};h()}function j(m){var o=m.indexOf("#");if(o>-1){m=m.substr(o+1)}h=function n(){var p=new RegExp("^"+m+"$",["i"]);f(g,p.test(b.path()))};h()}switch(e){case"uiRoute":if(i.uiRoute){j(i.uiRoute)}else{i.$observe("uiRoute",j)}break;case"ngHref":if(i.ngHref){k(i.ngHref)}else{i.$observe("ngHref",k)}break;case"href":k(i.href)}g.$on("$routeChangeSuccess",function(){h()});g.$on("$stateChangeSuccess",function(){h()})}}}}]);angular.module("ui.scroll.jqlite",["ui.scroll"]).service("jqLiteExtras",["$log","$window",function(b,a){return{registerFor:function(g){var d,i,e,c,f,h,j;i=angular.element.prototype.css;g.prototype.css=function(l,n){var m,k;k=this;m=k[0];if(!(!m||m.nodeType===3||m.nodeType===8||!m.style)){return i.call(k,l,n)}};h=function(k){return k&&k.document&&k.location&&k.alert&&k.setInterval};j=function(k,r,o){var m,p,l,q,n;m=k[0];n={top:["scrollTop","pageYOffset","scrollLeft"],left:["scrollLeft","pageXOffset","scrollTop"]}[r],p=n[0],q=n[1],l=n[2];if(h(m)){if(angular.isDefined(o)){return m.scrollTo(k[l].call(k),o)}else{if(q in m){return m[q]}else{return m.document.documentElement[p]}}}else{if(angular.isDefined(o)){return m[p]=o}else{return m[p]}}};if(a.getComputedStyle){c=function(k){return a.getComputedStyle(k,null)};d=function(k,l){return parseFloat(l)}}else{c=function(k){return k.currentStyle};d=function(m,q){var s,n,p,r,o,l,k;s=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;r=new RegExp("^("+s+")(?!px)[a-z%]+$","i");if(!r.test(q)){return parseFloat(q)}else{k=m.style;n=k.left;o=m.runtimeStyle;l=o&&o.left;if(o){o.left=k.left}k.left=q;p=k.pixelLeft;k.left=n;if(l){o.left=l}return p}}}e=function(q,k){var l,x,v,n,m,u,p,o,y,w,s,r,t;if(h(q)){l=document.documentElement[{height:"clientHeight",width:"clientWidth"}[k]];return{base:l,padding:0,border:0,margin:0}}t={width:[q.offsetWidth,"Left","Right"],height:[q.offsetHeight,"Top","Bottom"]}[k],l=t[0],p=t[1],o=t[2];u=c(q);s=d(q,u["padding"+p])||0;r=d(q,u["padding"+o])||0;x=d(q,u["border"+p+"Width"])||0;v=d(q,u["border"+o+"Width"])||0;n=u["margin"+p];m=u["margin"+o];y=d(q,n)||0;w=d(q,m)||0;return{base:l,padding:s+r,border:x+v,margin:y+w}};f=function(n,p,l){var k,m,o;m=e(n,p);if(m.base>0){return{base:m.base-m.padding-m.border,outer:m.base,outerfull:m.base+m.margin}[l]}else{k=c(n);o=k[p];if(o<0||o===null){o=n.style[p]||0}o=parseFloat(o)||0;return{base:o-m.padding-m.border,outer:o,outerfull:o+m.padding+m.border+m.margin}[l]}};return angular.forEach({before:function(o){var n,p,m,l,k,r,q;k=this;p=k[0];l=k.parent();n=l.contents();if(n[0]===p){return l.prepend(o)}else{for(m=r=1,q=n.length-1;1<=q?r<=q:r>=q;m=1<=q?++r:--r){if(n[m]===p){angular.element(n[m-1]).after(o);return}}throw new Error("invalid DOM structure "+p.outerHTML)}},height:function(l){var k;k=this;if(angular.isDefined(l)){if(angular.isNumber(l)){l=l+"px"}return i.call(k,"height",l)}else{return f(this[0],"height","base")}},outerHeight:function(k){return f(this[0],"height",k?"outerfull":"outer")},offset:function(o){var n,q,k,m,l,p;l=this;if(arguments.length){if(o===void 0){return l}else{throw new Error("offset setter method is not implemented")}}n={top:0,left:0};m=l[0];q=m&&m.ownerDocument;if(!q){return}k=q.documentElement;if(m.getBoundingClientRect!=null){n=m.getBoundingClientRect()}p=q.defaultView||q.parentWindow;return{top:n.top+(p.pageYOffset||k.scrollTop)-(k.clientTop||0),left:n.left+(p.pageXOffset||k.scrollLeft)-(k.clientLeft||0)}},scrollTop:function(k){return j(this,"top",k)},scrollLeft:function(k){return j(this,"left",k)}},function(l,k){if(!g.prototype[k]){return g.prototype[k]=l}})}}}]).run(["$log","$window","jqLiteExtras",function(b,a,c){if(!a.jQuery){return c.registerFor(angular.element)}}]);angular.module("ui.scroll",[]).directive("uiScrollViewport",["$log",function(){return{controller:["$scope","$element",function(b,a){this.viewport=a;return this}]}}]).directive("uiScroll",["$log","$injector","$rootScope","$timeout",function(c,b,a,d){return{require:["?^uiScrollViewport"],transclude:"element",priority:1000,terminal:true,compile:function(g,f,e){return function(x,S,F,D){var y,E,l,O,V,A,j,I,t,B,H,N,o,n,i,M,T,Z,v,K,h,ad,U,u,w,k,W,aa,ae,ag,af,r,q,m,Y,ah,Q,ac,s,L,J,z,p,P,C,R,X,ab,G;r=c.debug||c.log;q=F.uiScroll.match(/^\s*(\w+)\s+in\s+([\w\.]+)\s*$/);if(!q){throw new Error("Expected uiScroll in form of '_item_ in _datasource_' but got '"+F.uiScroll+"'")}ag=q[1];i=q[2];k=function(ai,ak){var aj;if(!ai){return}aj=ak.match(/^([\w]+)\.(.+)$/);if(!aj||aj.length!==3){return ai[ak]}return k(ai[aj[1]],aj[2])};J=function(ai,am,al,ak){var aj;if(!ai||!am){return}if(!(aj=am.match(/^([\w]+)\.(.+)$/))){if(am.indexOf(".")!==-1){return}}if(!aj||aj.length!==3){if(!angular.isObject(ai[am])&&!ak){return ai[am]=al}return ai[am]=al}if(!angular.isObject(ai[aj[1]])&&!ak){ai[aj[1]]={}}return J(ai[aj[1]],aj[2],al,ak)};n=k(x,i);ae=function(){return angular.isObject(n)&&typeof n.get==="function"};if(!ae()){n=b.get(i);if(!ae()){throw new Error(""+i+" is not a valid datasource")}}B=Math.max(3,+F.bufferSize||10);t=function(){return X.outerHeight()*Math.max(0.1,+F.padding||0.1)};L=function(ai){var aj;return(aj=ai[0].scrollHeight)!=null?aj:ai[0].document.documentElement.scrollHeight};H=null;e(x.$new(),function(ak){var am,an,ao,al,aj,ai;al=ak[0].localName;if(al==="dl"){throw new Error("ui-scroll directive does not support <"+ak[0].localName+"> as a repeating tag: "+ak[0].outerHTML)}if(al!=="li"&&al!=="tr"){al="div"}ai=D[0]&&D[0].viewport?D[0].viewport:angular.element(window);ai.css({"overflow-y":"auto",display:"block"});ao=function(ap){var at,ar,aq;switch(ap){case"tr":aq=angular.element("<table><tr><td><div></div></td></tr></table>");at=aq.find("div");ar=aq.find("tr");ar.paddingHeight=function(){return at.height.apply(at,arguments)};return ar;default:ar=angular.element("<"+ap+"></"+ap+">");ar.paddingHeight=ar.height;return ar}};an=function(ar,ap,aq){ap[{top:"before",bottom:"after"}[aq]](ar);return{paddingHeight:function(){return ar.paddingHeight.apply(ar,arguments)},insert:function(at){return ar[{top:"after",bottom:"before"}[aq]](at)}}};aj=an(ao(al),S,"top");am=an(ao(al),S,"bottom");x.$on("$destroy",ak.remove);return H={viewport:ai,topPadding:aj.paddingHeight,bottomPadding:am.paddingHeight,append:am.insert,prepend:aj.insert,bottomDataPos:function(){return L(ai)-am.paddingHeight()},topDataPos:function(){return aj.paddingHeight()}}});X=H.viewport;ab=X.scope()||a;C=function(ai){y.topVisible=ai.scope[ag];y.topVisibleElement=ai.element;y.topVisibleScope=ai.scope;if(F.topVisible){J(ab,F.topVisible,y.topVisible)}if(F.topVisibleElement){J(ab,F.topVisibleElement,y.topVisibleElement)}if(F.topVisibleScope){J(ab,F.topVisibleScope,y.topVisibleScope)}if(typeof n.topVisible==="function"){return n.topVisible(ai)}};af=function(ai){y.isLoading=ai;if(F.isLoading){J(x,F.isLoading,ai)}if(typeof n.loading==="function"){return n.loading(ai)}};s=0;w=1;m=1;I=[];Y=[];h=false;A=false;Q=function(al,aj){var ai,ak;for(ai=ak=al;al<=aj?ak<aj:ak>aj;ai=al<=aj?++ak:--ak){I[ai].scope.$destroy();I[ai].element.remove()}return I.splice(al,aj-al)};ah=function(){s++;w=1;m=1;Q(0,I.length);H.topPadding(0);H.bottomPadding(0);Y=[];h=false;A=false;return l(s)};j=function(){return X.scrollTop()+X.outerHeight()};R=function(){return X.scrollTop()};z=function(){return !h&&H.bottomDataPos()<j()+t()};N=function(){var an,al,aq,ai,ar,ao,ap,am,aj,ak;an=0;ap=0;for(al=aj=ak=I.length-1;ak<=0?aj<=0:aj>=0;al=ak<=0?++aj:--aj){aq=I[al];ar=aq.element.offset().top;ao=am!==ar;am=ar;if(ao){ai=aq.element.outerHeight(true)}if(H.bottomDataPos()-an-ai>j()+t()){if(ao){an+=ai}ap++;h=false}else{if(ao){break}ap++}}if(ap>0){H.bottomPadding(H.bottomPadding()+an);Q(I.length-ap,I.length);return m-=ap}};p=function(){return !A&&(H.topDataPos()>R()-t())};o=function(){var ap,ai,aq,an,ao,ak,al,aj,am;al=0;ao=0;for(aj=0,am=I.length;aj<am;aj++){ap=I[aj];aq=ap.element.offset().top;an=ak!==aq;ak=aq;if(an){ai=ap.element.outerHeight(true)}if(H.topDataPos()+al+ai<R()-t()){if(an){al+=ai}ao++;A=false}else{if(an){break}ao++}}if(ao>0){H.topPadding(H.topPadding()+al);Q(0,ao);return w+=ao}};K=function(ai,aj){if(!y.isLoading){af(true)}if(Y.push(aj)===1){return U(ai)}};W=function(ai){ai.displayTemp=ai.css("display");return ai.css("display","none")};P=function(ai){if(ai.hasOwnProperty("displayTemp")){return ai.css("display",ai.displayTemp)}};aa=function(ai,ak){var al,aj,am;al=x.$new();al[ag]=ak;aj=ai>w;al.$index=ai;if(aj){al.$index--}am={scope:al};e(al,function(an){am.element=an;if(aj){if(ai===m){W(an);H.append(an);return I.push(am)}else{I[ai-w].element.after(an);return I.splice(ai-w+1,0,am)}}else{W(an);H.prepend(an);return I.unshift(am)}});return{appended:aj,wrapper:am}};O=function(ai,ak){var aj;if(ai){return H.bottomPadding(Math.max(0,H.bottomPadding()-ak.element.outerHeight(true)))}else{aj=H.topPadding()-ak.element.outerHeight(true);if(aj>=0){return H.topPadding(aj)}else{return X.scrollTop(X.scrollTop()+ak.element.outerHeight(true))}}};M=function(ap,at){var aq,ai,ar,ao,al,am,ak,an,aj;if(z()){K(ap,true)}else{if(p()){K(ap,false)}}if(at){at(ap)}if(Y.length===0){am=0;aj=[];for(ak=0,an=I.length;ak<an;ak++){aq=I[ak];ar=aq.element.offset().top;ao=al!==ar;al=ar;if(ao){ai=aq.element.outerHeight(true)}if(ao&&(H.topDataPos()+am+ai<R())){aj.push(am+=ai)}else{if(ao){C(aq)}break}}return aj}};l=function(aj,ai,ak){if(ai&&ai.length){return d(function(){var am,ar,au,ap,at,ao,an,aq,al;at=[];for(ao=0,aq=ai.length;ao<aq;ao++){au=ai[ao];am=au.wrapper.element;P(am);ar=am.offset().top;if(ap!==ar){at.push(au);ap=ar}}for(an=0,al=at.length;an<al;an++){au=at[an];O(au.appended,au.wrapper)}return M(aj,ak)})}else{return M(aj,ak)}};u=function(aj,ai){return l(aj,ai,function(){Y.shift();if(Y.length===0){return af(false)}else{return U(aj)}})};U=function(ai){var aj;aj=Y[0];if(aj){if(I.length&&!z()){return u(ai)}else{return n.get(m,B,function(ao){var am,al,an,ak;if((ai&&ai!==s)||x.$$destroyed){return}al=[];if(ao.length<B){h=true;H.bottomPadding(0)}if(ao.length>0){o();for(an=0,ak=ao.length;an<ak;an++){am=ao[an];al.push(aa(++m,am))}}return u(ai,al)})}}else{if(I.length&&!p()){return u(ai)}else{return n.get(w-B,B,function(ao){var al,ak,an,am;if((ai&&ai!==s)||x.$$destroyed){return}ak=[];if(ao.length<B){A=true;H.topPadding(0)}if(ao.length>0){if(I.length){N()}for(al=an=am=ao.length-1;am<=0?an<=0:an>=0;al=am<=0?++an:--an){ak.unshift(aa(--w,ao[al]))}}return u(ai,ak)})}}};ac=function(){if(!a.$$phase&&!y.isLoading){l();return x.$apply()}};G=function(ai){var ak,aj;ak=X[0].scrollTop;aj=X[0].scrollHeight-X[0].clientHeight;if((ak===0&&!A)||(ak===aj&&!h)){return ai.preventDefault()}};X.bind("resize",ac);X.bind("scroll",ac);X.bind("mousewheel",G);x.$watch(n.revision,ah);if(n.scope){ad=n.scope.$new()}else{ad=x.$new()}x.$on("$destroy",function(){var aj,ak,ai;for(ak=0,ai=I.length;ak<ai;ak++){aj=I[ak];aj.scope.$destroy();aj.element.remove()}X.unbind("resize",ac);X.unbind("scroll",ac);return X.unbind("mousewheel",G)});y={};y.isLoading=false;V=function(aj,av){var ap,ao,aw,au,ar,aq,an,am,al,at,ak,ai;ao=[];if(angular.isArray(av)){if(av.length){if(av.length===1&&av[0]===aj.scope[ag]){return ao}else{au=aj.scope.$index;if(au>w){aq=au-w}else{aq=1}for(ap=an=0,at=av.length;an<at;ap=++an){ar=av[ap];ao.push(aa(au+ap,ar))}Q(aq,aq+1);for(ap=am=0,ak=I.length;am<ak;ap=++am){aw=I[ap];aw.scope.$index=w+ap}}}else{Q(aj.scope.$index-w,aj.scope.$index-w+1);m--;for(ap=al=0,ai=I.length;al<ai;ap=++al){aw=I[ap];aw.scope.$index=w+ap}}}return ao};y.applyUpdates=function(al,ak){var am,ap,ao,aj,an,ai;am=[];s++;if(angular.isFunction(al)){an=I.slice(0);for(ao=0,aj=an.length;ao<aj;ao++){ap=an[ao];am.concat(am,V(ap,al(ap.scope[ag],ap.scope,ap.element)))}}else{if(al%1===0){if((0<=(ai=al-w-1)&&ai<I.length)){am=V(I[al-w],ak)}}else{throw new Error("applyUpdates - "+al+" is not a valid index or outside of range")}}return l(s,am)};if(F.adapter){E=k(x,F.adapter);if(!E){J(x,F.adapter,{});E=k(x,F.adapter)}angular.extend(E,y);y=E}v=function(ai,ak){var ao,an,am,aj,al;if(angular.isFunction(ai)){an=function(ap){return ai(ap.scope)};for(am=0,aj=I.length;am<aj;am++){ao=I[am];an(ao)}}else{if((0<=(al=ai-w-1)&&al<I.length)){I[ai-w-1].scope[ag]=ak}}return null};T=function(ar){var aq,av,au,aj,ao,an,am,al,at,ak,ai,ap;if(angular.isFunction(ar)){au=[];for(an=0,at=I.length;an<at;an++){av=I[an];au.unshift(av)}ao=function(aw){if(ar(aw.scope)){Q(au.length-1-aq,au.length-aq);return m--}};for(aq=am=0,ak=au.length;am<ak;aq=++am){aj=au[aq];ao(aj)}}else{if((0<=(ap=ar-w-1)&&ap<I.length)){Q(ar-w-1,ar-w);m--}}for(aq=al=0,ai=I.length;al<ai;aq=++al){av=I[aq];av.scope.$index=w+aq}return l()};Z=function(ai,am){var ak,al,ao,aj,an;al=[];if(angular.isFunction(ai)){throw new Error("not implemented - Insert with locator function")}else{if((0<=(an=ai-w-1)&&an<I.length)){al.push(aa(ai,am));m++}}for(ak=ao=0,aj=I.length;ao<aj;ak=++ao){am=I[ak];am.scope.$index=w+ak}return l(null,al)};ad.$on("insert.item",function(ak,ai,aj){return Z(ai,aj)});ad.$on("update.items",function(ak,ai,aj){return v(ai,aj)});return ad.$on("delete.items",function(aj,ai){return T(ai)})}}}}]);angular.module("ui.scrollfix",[]).directive("uiScrollfix",["$window",function(b){function a(){if(angular.isDefined(b.pageYOffset)){return b.pageYOffset}else{var c=(document.compatMode&&document.compatMode!=="BackCompat")?document.documentElement:document.body;return c.scrollTop}}return{require:"^?uiScrollfixTarget",link:function(k,h,j,f){var i=true,d=0,e,c=f&&f.$element||angular.element(b);if(!j.uiScrollfix){i=false}else{if(typeof(j.uiScrollfix)==="string"){if(j.uiScrollfix.charAt(0)==="-"){i=false;d=-parseFloat(j.uiScrollfix.substr(1))}else{if(j.uiScrollfix.charAt(0)==="+"){i=false;d=parseFloat(j.uiScrollfix.substr(1))}}}}e=i?j.uiScrollfix:h[0].offsetTop+d;function g(){var l=i?j.uiScrollfix:h[0].offsetTop+d;var m=f?c[0].scrollTop:a();if(!h.hasClass("ui-scrollfix")&&m>l){h.addClass("ui-scrollfix");e=l}else{if(h.hasClass("ui-scrollfix")&&m<e){h.removeClass("ui-scrollfix")}}}c.on("scroll",g);k.$on("$destroy",function(){c.off("scroll",g)})}}}]).directive("uiScrollfixTarget",[function(){return{controller:["$element",function(a){this.$element=a}]}}]);angular.module("ui.showhide",[]).directive("uiShow",[function(){return function(b,c,a){b.$watch(a.uiShow,function(d){if(d){c.addClass("ui-show")}else{c.removeClass("ui-show")}})}}]).directive("uiHide",[function(){return function(b,c,a){b.$watch(a.uiHide,function(d){if(d){c.addClass("ui-hide")}else{c.removeClass("ui-hide")}})}}]).directive("uiToggle",[function(){return function(b,c,a){b.$watch(a.uiToggle,function(d){if(d){c.removeClass("ui-hide").addClass("ui-show")}else{c.removeClass("ui-show").addClass("ui-hide")}})}}]);angular.module("ui.unique",[]).filter("unique",["$parse",function(a){return function(b,e){if(e===false){return b}if((e||angular.isUndefined(e))&&angular.isArray(b)){var d=[],c=angular.isString(e)?a(e):function(g){return g};var f=function(g){return angular.isObject(g)?c(g):g};angular.forEach(b,function(j){var h=false;for(var g=0;g<d.length;g++){if(angular.equals(f(d[g]),f(j))){h=true;break}}if(!h){d.push(j)}});b=d}return b}}]);angular.module("ui.uploader",[]).service("uiUploader",uiUploader);uiUploader.$inject=["$log"];function uiUploader(i){var h=this;h.files=[];h.options={};h.activeUploads=0;i.info("uiUploader loaded");function c(k){for(var j=0;j<k.length;j++){h.files.push(k[j])}}function g(){return h.files}function d(k){h.options=k;for(var j=0;j<h.files.length;j++){if(h.activeUploads==h.options.concurrency){break}if(h.files[j].active){continue}a(h.files[j],h.options.url)}}function b(j){h.files.splice(h.files.indexOf(j),1)}function f(){h.files.splice(0,h.files.length)}return{addFiles:c,getFiles:g,files:h.files,startUpload:d,removeFile:b,removeAll:f};function e(j){var l=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"];var k=+Math.floor(Math.log(j)/Math.log(1024));return(j/Math.pow(1024,k)).toFixed(k?1:0)+" "+l[isNaN(j)?0:k+1]}function a(l,j){var o,n,p,m="",k=""||"file";h.activeUploads+=1;l.active=true;o=new window.XMLHttpRequest();n=new window.FormData();o.open("POST",j);o.upload.onloadstart=function(){};o.upload.onprogress=function(q){if(!q.lengthComputable){return}l.loaded=q.loaded;l.humanSize=e(q.loaded);h.options.onProgress(l)};o.onload=function(){h.activeUploads-=1;d(h.options);h.options.onCompleted(l,o.responseText)};o.onerror=function(){};if(m){for(p in m){if(m.hasOwnProperty(p)){n.append(p,m[p])}}}n.append(k,l,l.name);o.send(n);return o}}angular.module("ui.validate",[]).directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(d,h,b,f){var c,e={},g=d.$eval(b.uiValidate);if(!g){return}if(angular.isString(g)){g={validator:g}}angular.forEach(g,function(j,i){c=function(k){var l=d.$eval(j,{"$value":k});if(angular.isObject(l)&&angular.isFunction(l.then)){l.then(function(){f.$setValidity(i,true)},function(){f.$setValidity(i,false)});return k}else{if(l){f.$setValidity(i,true);return k}else{f.$setValidity(i,false);return k}}};e[i]=c;f.$formatters.push(c);f.$parsers.push(c)});function a(i){if(angular.isString(i)){d.$watch(i,function(){angular.forEach(e,function(j){j(f.$modelValue)})});return}if(angular.isArray(i)){angular.forEach(i,function(j){d.$watch(j,function(){angular.forEach(e,function(k){k(f.$modelValue)})})});return}if(angular.isObject(i)){angular.forEach(i,function(k,j){if(angular.isString(k)){d.$watch(k,function(){e[j](f.$modelValue)})}if(angular.isArray(k)){angular.forEach(k,function(l){d.$watch(l,function(){e[j](f.$modelValue)})})}})}}if(b.uiValidateWatch){a(d.$eval(b.uiValidateWatch))}}}});angular.module("ui.utils",["ui.event","ui.format","ui.highlight","ui.include","ui.indeterminate","ui.inflector","ui.jq","ui.keypress","ui.mask","ui.reset","ui.route","ui.scrollfix","ui.scroll","ui.scroll.jqlite","ui.showhide","ui.unique","ui.validate"]);