!function(window){function Element(){this.initialize=function(){this.elementType="element",this.serializedProperties=["elementType"],this.propertiesStack=[],this._id=""+(new Date).getTime()},this.distroy=function(){},this.removeHandler=function(){},this.attr=function(a,b){if(null!=a&&null!=b){this[a]=b}else{if(null!=a){return this[a]}}return this},this.save=function(){var a=this,b={};this.serializedProperties.forEach(function(c){b[c]=a[c]}),this.propertiesStack.push(b)},this.restore=function(){if(null!=this.propertiesStack&&0!=this.propertiesStack.length){var a=this,b=this.propertiesStack.pop();this.serializedProperties.forEach(function(c){a[c]=b[c]})}},this.toJson=function(){var a=this,b="{",c=this.serializedProperties.length;return this.serializedProperties.forEach(function(d,e){var f=a[d];"string"==typeof f&&(f='"'+f+'"'),b+='"'+d+'":'+f,c>e+1&&(b+=",")}),b+="}"}}CanvasRenderingContext2D.prototype.JTopoRoundRect=function(a,b,c,d,e){"undefined"==typeof e&&(e=5),this.beginPath(),this.moveTo(a+e,b),this.lineTo(a+c-e,b),this.quadraticCurveTo(a+c,b,a+c,b+e),this.lineTo(a+c,b+d-e),this.quadraticCurveTo(a+c,b+d,a+c-e,b+d),this.lineTo(a+e,b+d),this.quadraticCurveTo(a,b+d,a,b+d-e),this.lineTo(a,b+e),this.quadraticCurveTo(a,b,a+e,b),this.closePath()},CanvasRenderingContext2D.prototype.JTopoDashedLineTo=function(a,b,c,d,e){"undefined"==typeof e&&(e=5);var f=c-a,g=d-b,h=Math.floor(Math.sqrt(f*f+g*g)),i=0>=e?h:h/e,j=g/h*e,k=f/h*e;this.beginPath();for(var l=0;i>l;l++){l%2?this.lineTo(a+l*k,b+l*j):this.moveTo(a+l*k,b+l*j)}this.stroke()},JTopo={version:"0.4.8",zIndex_Container:1,zIndex_Link:2,zIndex_Node:3,SceneMode:{normal:"normal",drag:"drag",edit:"edit",select:"select"},MouseCursor:{normal:"default",pointer:"pointer",top_left:"nw-resize",top_center:"n-resize",top_right:"ne-resize",middle_left:"e-resize",middle_right:"e-resize",bottom_left:"ne-resize",bottom_center:"n-resize",bottom_right:"nw-resize",move:"move",open_hand:"url(/statics/img/topology/bg.jpg) 8 8, default",closed_hand:"url(/statics/img/topology/bg.jpg) 8 8, default"},createStageFromJson:function(jsonStr,canvas){eval("var jsonObj = "+jsonStr);var stage=new JTopo.Stage(canvas);for(var k in jsonObj){"childs"!=k&&(stage[k]=jsonObj[k])}var scenes=jsonObj.childs;return scenes.forEach(function(a){var b=new JTopo.Scene(stage);for(var c in a){"childs"!=c&&(b[c]=a[c]),"background"==c&&(b.background=a[c])}var d=a.childs;d.forEach(function(a){var c=null,d=a.elementType;"node"==d?c=new JTopo.Node:"CircleNode"==d&&(c=new JTopo.CircleNode);for(var e in a){c[e]=a[e]}b.add(c)})}),stage}},JTopo.Element=Element,window.JTopo=JTopo}(window),function(JTopo){function MessageBus(a){var b=this;this.name=a,this.messageMap={},this.messageCount=0,this.subscribe=function(a,c){var d=b.messageMap[a];null==d&&(b.messageMap[a]=[]),b.messageMap[a].push(c),b.messageCount++},this.unsubscribe=function(a){var c=b.messageMap[a];null!=c&&(b.messageMap[a]=null,delete b.messageMap[a],b.messageCount--)},this.publish=function(a,c,d){var e=b.messageMap[a];if(null!=e){for(var f=0;f<e.length;f++){d?!function(a,b){setTimeout(function(){a(b)},10)}(e[f],c):e[f](c)}}}}function getDistance(a,b,c,d){var e,f;return null==c&&null==d?(e=b.x-a.x,f=b.y-a.y):(e=c-a,f=d-b),Math.sqrt(e*e+f*f)}function getElementsBound(a){for(var b={left:Number.MAX_VALUE,right:Number.MIN_VALUE,top:Number.MAX_VALUE,bottom:Number.MIN_VALUE},c=0;c<a.length;c++){var d=a[c];d instanceof JTopo.Link||(b.left>d.x&&(b.left=d.x,b.leftNode=d),b.right<d.x+d.width&&(b.right=d.x+d.width,b.rightNode=d),b.top>d.y&&(b.top=d.y,b.topNode=d),b.bottom<d.y+d.height&&(b.bottom=d.y+d.height,b.bottomNode=d))}return b.width=b.right-b.left,b.height=b.bottom-b.top,b}function mouseCoords(a){return a=cloneEvent(a),a.pageX||(a.pageX=a.clientX+document.body.scrollLeft-document.body.clientLeft,a.pageY=a.clientY+document.body.scrollTop-document.body.clientTop),a}function getEventPosition(a){return a=mouseCoords(a)}function rotatePoint(a,b,c,d,e){var f=c-a,g=d-b,h=Math.sqrt(f*f+g*g),i=Math.atan2(g,f)+e;return{x:a+Math.cos(i)*h,y:b+Math.sin(i)*h}}function rotatePoints(a,b,c){for(var d=[],e=0;e<b.length;e++){var f=rotatePoint(a.x,a.y,b[e].x,b[e].y,c);d.push(f)}return d}function $foreach(a,b,c){function d(e){e!=a.length&&(b(a[e]),setTimeout(function(){d(++e)},c))}if(0!=a.length){var e=0;d(e)}}function $for(a,b,c,d){function e(a){a!=b&&(c(b),setTimeout(function(){e(++a)},d))}if(!(a>b)){var f=0;e(f)}}function cloneEvent(a){var b={};for(var c in a){"returnValue"!=c&&"keyLocation"!=c&&(b[c]=a[c])}return b}function clone(a){var b={};for(var c in a){b[c]=a[c]}return b}function isPointInRect(a,b){var c=b.x,d=b.y,e=b.width,f=b.height;return a.x>c&&a.x<c+e&&a.y>d&&a.y<d+f}function isPointInLine(a,b,c){var d=JTopo.util.getDistance(b,c),e=JTopo.util.getDistance(b,a),f=JTopo.util.getDistance(c,a),g=Math.abs(e+f-d)<=0.5;return g}function removeFromArray(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d===b){a=a.del(c);break}}return a}function randomColor(){return Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())}function isIntsect(){}function getProperties(a,b){for(var c="",d=0;d<b.length;d++){d>0&&(c+=",");var e=a[b[d]];"string"==typeof e?e='"'+e+'"':void 0==e&&(e=null),c+=b[d]+":"+e}return c}function loadStageFromJson(json,canvas){var obj=eval(json),stage=new JTopo.Stage(canvas);for(var k in stageObj){if("scenes"!=k){stage[k]=obj[k]}else{for(var scenes=obj.scenes,i=0;i<scenes.length;i++){var sceneObj=scenes[i],scene=new JTopo.Scene(stage);for(var p in sceneObj){if("elements"!=p){scene[p]=sceneObj[p]}else{for(var nodeMap={},elements=sceneObj.elements,m=0;m<elements.length;m++){var elementObj=elements[m],type=elementObj.elementType,element;"Node"==type&&(element=new JTopo.Node);for(var mk in elementObj){element[mk]=elementObj[mk]}nodeMap[element.text]=element,scene.add(element)}}}}}}return console.log(stage),stage}function toJson(a){var b="backgroundColor,visible,mode,rotate,alpha,scaleX,scaleY,shadow,translateX,translateY,areaSelect,paintAll".split(","),c="text,elementType,x,y,width,height,visible,alpha,rotate,scaleX,scaleY,fillColor,shadow,transformAble,zIndex,dragable,selected,showSelected,font,fontColor,textPosition,textOffsetX,textOffsetY".split(","),d="{";d+="frames:"+a.frames,d+=", scenes:[";for(var e=0;e<a.childs.length;e++){var f=a.childs[e];d+="{",d+=getProperties(f,b),d+=", elements:[";for(var g=0;g<f.childs.length;g++){var h=f.childs[g];g>0&&(d+=","),d+="{",d+=getProperties(h,c),d+="}"}d+="]}"}return d+="]",d+="}"}function changeColor(a,b,c,d,e){var f=canvas.width=b.width,g=canvas.height=b.height;a.clearRect(0,0,canvas.width,canvas.height),a.drawImage(b,0,0);for(var h=a.getImageData(0,0,b.width,b.height),i=h.data,j=0;f>j;j++){for(var k=0;g>k;k++){var l=4*(j+k*f);0!=i[l+3]&&(null!=c&&(i[l+0]+=c),null!=d&&(i[l+1]+=d),null!=e&&(i[l+2]+=e))}}a.putImageData(h,0,0,0,0,b.width,b.height);var m=canvas.toDataURL();return alarmImageCache[b.src]=m,m}function genImageAlarm(a,b){null==b&&(b=255);try{if(alarmImageCache[a.src]){return alarmImageCache[a.src]}var c=new Image;return c.src=changeColor(graphics,a,b),alarmImageCache[a.src]=c,c}catch(d){}return null}function getOffsetPosition(a){if(!a){return{left:0,top:0}}var b=0,c=0;if("getBoundingClientRect" in document.documentElement){var d=a.getBoundingClientRect(),e=a.ownerDocument,f=e.body,g=e.documentElement,h=g.clientTop||f.clientTop||0,i=g.clientLeft||f.clientLeft||0,b=d.top+(self.pageYOffset||g&&g.scrollTop||f.scrollTop)-h,c=d.left+(self.pageXOffset||g&&g.scrollLeft||f.scrollLeft)-i}else{do{b+=a.offsetTop||0,c+=a.offsetLeft||0,a=a.offsetParent}while(a)}return{left:c,top:b}}function lineF(a,b,c,d){function e(a){return a*f+g}var f=(d-b)/(c-a),g=b-a*f;return e.k=f,e.b=g,e.x1=a,e.x2=c,e.y1=b,e.y2=d,e}function inRange(a,b,c){var d=Math.abs(b-c),e=Math.abs(b-a),f=Math.abs(c-a),g=Math.abs(d-(e+f));return 0.000001>g?!0:!1}function isPointInLineSeg(a,b,c){return inRange(a,c.x1,c.x2)&&inRange(b,c.y1,c.y2)}function intersection(a,b){var c,d;return a.k==b.k?null:(1/0==a.k||a.k==-1/0?(c=a.x1,d=b(a.x1)):1/0==b.k||b.k==-1/0?(c=b.x1,d=a(b.x1)):(c=(b.b-a.b)/(a.k-b.k),d=a(c)),0==isPointInLineSeg(c,d,a)?null:0==isPointInLineSeg(c,d,b)?null:{x:c,y:d})}function intersectionLineBound(a,b){var c=JTopo.util.lineF(b.left,b.top,b.left,b.bottom),d=JTopo.util.intersection(a,c);return null==d&&(c=JTopo.util.lineF(b.left,b.top,b.right,b.top),d=JTopo.util.intersection(a,c),null==d&&(c=JTopo.util.lineF(b.right,b.top,b.right,b.bottom),d=JTopo.util.intersection(a,c),null==d&&(c=JTopo.util.lineF(b.left,b.bottom,b.right,b.bottom),d=JTopo.util.intersection(a,c)))),d}requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){setTimeout(a,1000/24)},Array.prototype.del=function(a){if("number"!=typeof a){for(var b=0;b<this.length;b++){if(this[b]===a){return this.slice(0,b).concat(this.slice(b+1,this.length))}}return this}return 0>a?this:this.slice(0,a).concat(this.slice(a+1,this.length))},[].indexOf||(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++){if(this[b]===a){return b}}return -1}),window.console||(window.console={log:function(){},info:function(){},debug:function(){},warn:function(){},error:function(){}});var canvas=document.createElement("canvas"),graphics=canvas.getContext("2d"),alarmImageCache={};JTopo.util={rotatePoint:rotatePoint,rotatePoints:rotatePoints,getDistance:getDistance,getEventPosition:getEventPosition,mouseCoords:mouseCoords,MessageBus:MessageBus,isFirefox:navigator.userAgent.indexOf("Firefox")>0,isIE:!(!window.attachEvent||-1!==navigator.userAgent.indexOf("Opera")),isChrome:null!=navigator.userAgent.toLowerCase().match(/chrome/),clone:clone,isPointInRect:isPointInRect,isPointInLine:isPointInLine,removeFromArray:removeFromArray,cloneEvent:cloneEvent,randomColor:randomColor,isIntsect:isIntsect,toJson:toJson,loadStageFromJson:loadStageFromJson,getElementsBound:getElementsBound,genImageAlarm:genImageAlarm,getOffsetPosition:getOffsetPosition,lineF:lineF,intersection:intersection,intersectionLineBound:intersectionLineBound},window.$for=$for,window.$foreach=$foreach}(JTopo),function(b){function c(d){return{hgap:16,visible:!1,exportCanvas:document.createElement("canvas"),getImage:function(f,e){var g=d.getBound(),m=1,n=1;this.exportCanvas.width=d.canvas.width,this.exportCanvas.height=d.canvas.height,null!=f&&null!=e?(this.exportCanvas.width=f,this.exportCanvas.height=e,m=f/g.width,n=e/g.height):(g.width>d.canvas.width&&(this.exportCanvas.width=g.width),g.height>d.canvas.height&&(this.exportCanvas.height=g.height));var o=this.exportCanvas.getContext("2d");return d.childs.length>0&&(o.save(),o.clearRect(0,0,this.exportCanvas.width,this.exportCanvas.height),d.childs.forEach(function(h){1==h.visible&&(h.save(),h.translateX=0,h.translateY=0,h.scaleX=1,h.scaleY=1,o.scale(m,n),g.left<0&&(h.translateX=Math.abs(g.left)),g.top<0&&(h.translateY=Math.abs(g.top)),h.paintAll=!0,h.repaint(o),h.paintAll=!1,h.restore())}),o.restore()),this.exportCanvas.toDataURL("image/png")},canvas:document.createElement("canvas"),update:function(){this.eagleImageDatas=this.getData(d)},setSize:function(e,f){this.width=this.canvas.width=e,this.height=this.canvas.height=f},getData:function(k,l){function m(q){var r=q.stage.canvas.width,n=q.stage.canvas.height,o=r/q.scaleX/2,p=n/q.scaleY/2;return{translateX:q.translateX+o-o*q.scaleX,translateY:q.translateY+p-p*q.scaleY}}null!=g&&null!=h?this.setSize(k,l):this.setSize(200,160);var y=this.canvas.getContext("2d");if(d.childs.length>0){y.save(),y.clearRect(0,0,this.canvas.width,this.canvas.height),d.childs.forEach(function(n){1==n.visible&&(n.save(),n.centerAndZoom(null,null,y),n.repaint(y),n.restore())});var z=m(d.childs[0]),A=z.translateX*(this.canvas.width/d.canvas.width)*d.childs[0].scaleX,e=z.translateY*(this.canvas.height/d.canvas.height)*d.childs[0].scaleY,f=d.getBound(),g=d.canvas.width/d.childs[0].scaleX/f.width,h=d.canvas.height/d.childs[0].scaleY/f.height;g>1&&(g=1),h>1&&(g=1),A*=g,e*=h,f.left<0&&(A-=Math.abs(f.left)*(this.width/f.width)),f.top<0&&(e-=Math.abs(f.top)*(this.height/f.height)),y.save(),y.lineWidth=1,y.strokeStyle="rgba(255,0,0,1)",y.strokeRect(-A,-e,y.canvas.width*g,y.canvas.height*h),y.restore();var i=null;try{i=y.getImageData(0,0,y.canvas.width,y.canvas.height)}catch(j){}return i}return null},paint:function(){if(null!=this.eagleImageDatas){var e=d.graphics;e.save(),e.fillStyle="rgba(211,211,211,0.3)",e.fillRect(d.canvas.width-this.canvas.width-2*this.hgap,d.canvas.height-this.canvas.height-1,d.canvas.width-this.canvas.width,this.canvas.height+1),e.fill(),e.save(),e.lineWidth=1,e.strokeStyle="rgba(0,0,0,1)",e.rect(d.canvas.width-this.canvas.width-2*this.hgap,d.canvas.height-this.canvas.height-1,d.canvas.width-this.canvas.width,this.canvas.height+1),e.stroke(),e.restore(),e.putImageData(this.eagleImageDatas,d.canvas.width-this.canvas.width-this.hgap,d.canvas.height-this.canvas.height),e.restore()}else{this.eagleImageDatas=this.getData(d)}},eventHandler:function(w,x,e){var f=x.x,g=x.y;if(f>e.canvas.width-this.canvas.width&&g>e.canvas.height-this.canvas.height){if(f=x.x-this.canvas.width,g=x.y-this.canvas.height,"mousedown"==w&&(this.lastTranslateX=e.childs[0].translateX,this.lastTranslateY=e.childs[0].translateY),"mousedrag"==w&&e.childs.length>0){var h=x.dx,i=x.dy,j=e.getBound(),u=this.canvas.width/e.childs[0].scaleX/j.width,v=this.canvas.height/e.childs[0].scaleY/j.height;e.childs[0].translateX=this.lastTranslateX-h/u,e.childs[0].translateY=this.lastTranslateY-i/v}}else{}}}}function a(q){function G(u){var s=b.util.getEventPosition(u),t=b.util.getOffsetPosition(o.canvas);return s.offsetLeft=s.pageX-t.left,s.offsetTop=s.pageY-t.top,s.x=s.offsetLeft,s.y=s.offsetTop,s.target=null,s}function d(s){document.onselectstart=function(){return !1},this.mouseOver=!0;var t=G(s);o.dispatchEventToScenes("mouseover",t),o.dispatchEvent("mouseover",t)}function e(s){r=setTimeout(function(){p=!0},500),document.onselectstart=function(){return !0};var t=G(s);o.dispatchEventToScenes("mouseout",t),o.dispatchEvent("mouseout",t),o.needRepaint=0==o.animate?!1:!0}function f(s){var t=G(s);o.mouseDown=!0,o.mouseDownX=t.x,o.mouseDownY=t.y,o.dispatchEventToScenes("mousedown",t),o.dispatchEvent("mousedown",t)}function g(s){var t=G(s);o.dispatchEventToScenes("mouseup",t),o.dispatchEvent("mouseup",t),o.mouseDown=!1,o.needRepaint=0==o.animate?!1:!0}function h(s){r&&(window.clearTimeout(r),r=null),p=!1;var t=G(s);o.mouseDown?0==s.button&&(t.dx=t.x-o.mouseDownX,t.dy=t.y-o.mouseDownY,o.dispatchEventToScenes("mousedrag",t),o.dispatchEvent("mousedrag",t),1==o.eagleEye.visible&&o.eagleEye.update()):(o.dispatchEventToScenes("mousemove",t),o.dispatchEvent("mousemove",t))}function j(s){var t=G(s);o.dispatchEventToScenes("click",t),o.dispatchEvent("click",t)}function l(s){var t=G(s);o.dispatchEventToScenes("dbclick",t),o.dispatchEvent("dbclick",t)}function m(s){var t=G(s);o.dispatchEventToScenes("mousewheel",t),o.dispatchEvent("mousewheel",t),null!=o.wheelZoom&&(s.preventDefault?s.preventDefault():(s=s||window.event,s.returnValue=!1),1==o.eagleEye.visible&&o.eagleEye.update())}function n(s){b.util.isIE||!window.addEventListener?(s.onmouseout=e,s.onmouseover=d,s.onmousedown=f,s.onmouseup=g,s.onmousemove=h,s.onclick=j,s.ondblclick=l,s.onmousewheel=m,s.touchstart=f,s.touchmove=h,s.touchend=g):(s.addEventListener("mouseout",e),s.addEventListener("mouseover",d),s.addEventListener("mousedown",f),s.addEventListener("mouseup",g),s.addEventListener("mousemove",h),s.addEventListener("click",j),s.addEventListener("dblclick",l),b.util.isFirefox?s.addEventListener("DOMMouseScroll",m):s.addEventListener("mousewheel",m)),window.addEventListener&&(window.addEventListener("keydown",function(t){o.dispatchEventToScenes("keydown",b.util.cloneEvent(t))},!0),window.addEventListener("keyup",function(t){o.dispatchEventToScenes("keyup",b.util.cloneEvent(t))},!0))}b.stage=this;var o=this;this.initialize=function(s){n(s),this.canvas=s,this.graphics=s.getContext("2d"),this.childs=[],this.frames=24,this.messageBus=new b.util.MessageBus,this.eagleEye=c(this),this.wheelZoom=null,this.mouseDownX=0,this.mouseDownY=0,this.mouseDown=!1,this.mouseOver=!1,this.needRepaint=!0,this.serializedProperties=["frames","wheelZoom"]},null!=q&&this.initialize(q);var p=!0,r=null;document.oncontextmenu=function(){return p},this.dispatchEventToScenes=function(u,v){if(0!=this.frames&&(this.needRepaint=!0),1==this.eagleEye.visible&&-1!=u.indexOf("mouse")){var s=v.x,t=v.y;if(s>this.width-this.eagleEye.width&&t>this.height-this.eagleEye.height){return void this.eagleEye.eventHandler(u,v,this)}}this.childs.forEach(function(w){if(1==w.visible){var x=w[u+"Handler"];if(null==x){throw new Error("Function not found:"+u+"Handler")}x.call(w,v)}})},this.add=function(s){for(var t=0;t<this.childs.length;t++){if(this.childs[t]===s){return}}s.addTo(this),this.childs.push(s)},this.remove=function(s){if(null==s){throw new Error("Stage.remove出错: 参数为null!")}for(var t=0;t<this.childs.length;t++){if(this.childs[t]===s){return s.stage=null,this.childs=this.childs.del(t),this}}return this},this.clear=function(){this.childs=[]},this.addEventListener=function(u,v){var s=this,t=function(w){v.call(s,w)};return this.messageBus.subscribe(u,t),this},this.removeEventListener=function(s){this.messageBus.unsubscribe(s)},this.removeAllEventListener=function(){this.messageBus=new b.util.MessageBus},this.dispatchEvent=function(s,t){return this.messageBus.publish(s,t),this};var i="click,dbclick,mousedown,mouseup,mouseover,mouseout,mousemove,mousedrag,mousewheel,touchstart,touchmove,touchend,keydown,keyup".split(","),k=this;i.forEach(function(s){k[s]=function(t){null!=t?this.addEventListener(s,t):this.dispatchEvent(s)}}),this.saveImageInfo=function(u,v){var s=this.eagleEye.getImage(u,v),t=window.open("about:blank");return t.document.write("<img src='"+s+"' alt='from canvas'/>"),this},this.saveAsLocalImage=function(t,u){var s=this.eagleEye.getImage(t,u);return s.replace("image/png","image/octet-stream"),window.location.href=s,this},this.paint=function(){null!=this.canvas&&(this.graphics.save(),this.graphics.clearRect(0,0,this.width,this.height),this.childs.forEach(function(s){1==s.visible&&s.repaint(o.graphics)}),1==this.eagleEye.visible&&this.eagleEye.paint(this),this.graphics.restore())},this.repaint=function(){0!=this.frames&&(this.frames<0&&0==this.needRepaint||(this.paint(),this.frames<0&&(this.needRepaint=!1)))},this.zoom=function(s){this.childs.forEach(function(t){0!=t.visible&&t.zoom(s)})},this.zoomOut=function(s){this.childs.forEach(function(t){0!=t.visible&&t.zoomOut(s)})},this.zoomIn=function(s){this.childs.forEach(function(t){0!=t.visible&&t.zoomIn(s)})},this.centerAndZoom=function(){this.childs.forEach(function(s){0!=s.visible&&s.centerAndZoom()})},this.setCenter=function(t,u){var s=this;this.childs.forEach(function(v){var w=t-s.canvas.width/2,x=u-s.canvas.height/2;v.translateX=-w,v.translateY=-x})},this.getBound=function(){var s={left:Number.MAX_VALUE,right:Number.MIN_VALUE,top:Number.MAX_VALUE,bottom:Number.MIN_VALUE};return this.childs.forEach(function(u){var t=u.getElementsBound();t.left<s.left&&(s.left=t.left,s.leftNode=t.leftNode),t.top<s.top&&(s.top=t.top,s.topNode=t.topNode),t.right>s.right&&(s.right=t.right,s.rightNode=t.rightNode),t.bottom>s.bottom&&(s.bottom=t.bottom,s.bottomNode=t.bottomNode)}),s.width=s.right-s.left,s.height=s.bottom-s.top,s},this.toJson=function(){var t=this,s='{"version":"'+b.version+'",';this.serializedProperties.length;return this.serializedProperties.forEach(function(v){var u=t[v];"string"==typeof u&&(u='"'+u+'"'),s+='"'+v+'":'+u+","}),s+='"childs":[',this.childs.forEach(function(u){s+=u.toJson()}),s+="]",s+="}"},function(){0==o.frames?setTimeout(arguments.callee,100):o.frames<0?(o.repaint(),setTimeout(arguments.callee,1000/-o.frames)):(o.repaint(),setTimeout(arguments.callee,1000/o.frames))}(),setTimeout(function(){o.mousewheel(function(s){var t=null==s.wheelDelta?s.detail:s.wheelDelta;null!=this.wheelZoom&&(t>0?this.zoomIn(this.wheelZoom):this.zoomOut(this.wheelZoom))}),o.paint()},300),setTimeout(function(){o.paint()},1000),setTimeout(function(){o.paint()},3000)}a.prototype={get widthfunctionfunction(){return this.canvas.width},get heightfunctionfunction(){return this.canvas.height},set cursorfunctionfunction(d){this.canvas.style.cursor=d},get cursorfunctionfunction(){return this.canvas.style.cursor},set modefunctionfunction(d){this.childs.forEach(function(e){e.mode=d})}},b.Stage=a}(JTopo),function(b){function c(f){function g(j,n,h,i){return function(l){l.beginPath(),l.strokeStyle="rgba(0,0,236,0.5)",l.fillStyle="rgba(0,0,236,0.1)",l.rect(j,n,h,i),l.fill(),l.stroke(),l.closePath()}}var k=this;this.initialize=function(){c.prototype.initialize.apply(this,arguments),this.messageBus=new b.util.MessageBus,this.elementType="scene",this.childs=[],this.zIndexMap={},this.zIndexArray=[],this.backgroundColor="255,255,255",this.visible=!0,this.alpha=0,this.scaleX=1,this.scaleY=1,this.mode=b.SceneMode.normal,this.translate=!0,this.translateX=0,this.translateY=0,this.lastTranslateX=0,this.lastTranslateY=0,this.mouseDown=!1,this.mouseDownX=null,this.mouseDownY=null,this.mouseDownEvent=null,this.areaSelect=!0,this.operations=[],this.selectedElements=[],this.paintAll=!1;var h="background,backgroundColor,mode,paintAll,areaSelect,translate,translateX,translateY,lastTranslatedX,lastTranslatedY,alpha,visible,scaleX,scaleY".split(",");this.serializedProperties=this.serializedProperties.concat(h)},this.initialize(),this.setBackground=function(h){this.background=h},this.addTo=function(h){this.stage!==h&&null!=h&&(this.stage=h)},null!=f&&(f.add(this),this.addTo(f)),this.show=function(){this.visible=!0},this.hide=function(){this.visible=!1},this.paint=function(h){if(0!=this.visible&&null!=this.stage){if(h.save(),this.paintBackgroud(h),h.restore(),h.save(),h.scale(this.scaleX,this.scaleY),1==this.translate){var i=this.getOffsetTranslate(h);h.translate(i.translateX,i.translateY)}this.paintChilds(h),h.restore(),h.save(),this.paintOperations(h,this.operations),h.restore()}},this.repaint=function(h){0!=this.visible&&this.paint(h)},this.paintBackgroud=function(h){null!=this.background?h.drawImage(this.background,0,0,h.canvas.width,h.canvas.height):(h.beginPath(),h.fillStyle="rgba("+this.backgroundColor+","+this.alpha+")",h.fillRect(0,0,h.canvas.width,h.canvas.height),h.closePath())},this.getDisplayedElements=function(){for(var j=[],p=0;p<this.zIndexArray.length;p++){for(var q=this.zIndexArray[p],r=this.zIndexMap[q],h=0;h<r.length;h++){var i=r[h];this.isVisiable(i)&&j.push(i)}}return j},this.getDisplayedNodes=function(){for(var j=[],h=0;h<this.childs.length;h++){var i=this.childs[h];i instanceof b.Node&&this.isVisiable(i)&&j.push(i)}return j},this.paintChilds=function(j){for(var r=0;r<this.zIndexArray.length;r++){for(var s=this.zIndexArray[r],t=this.zIndexMap[s],u=0;u<t.length;u++){var h=t[u];if(1==this.paintAll||this.isVisiable(h)){if(j.save(),1==h.transformAble){var i=h.getCenterLocation();j.translate(i.x,i.y),h.rotate&&j.rotate(h.rotate),h.scaleX&&h.scaleY?j.scale(h.scaleX,h.scaleY):h.scaleX?j.scale(h.scaleX,1):h.scaleY&&j.scale(1,h.scaleY)}1==h.shadow&&(j.shadowBlur=h.shadowBlur,j.shadowColor=h.shadowColor,j.shadowOffsetX=h.shadowOffsetX,j.shadowOffsetY=h.shadowOffsetY),h instanceof b.InteractiveElement&&(h.selected&&1==h.showSelected&&h.paintSelected(j),1==h.isMouseOver&&h.paintMouseover(j)),h.paint(j),j.restore()}}}},this.getOffsetTranslate=function(j){var p=this.stage.canvas.width,q=this.stage.canvas.height;null!=j&&"move"!=j&&(p=j.canvas.width,q=j.canvas.height);var r=p/this.scaleX/2,h=q/this.scaleY/2,i={translateX:this.translateX+(r-r*this.scaleX),translateY:this.translateY+(h-h*this.scaleY)};return i},this.isVisiable=function(j){if(1!=j.visible){return !1}if(j instanceof b.Link){return !0}var q=this.getOffsetTranslate(),r=j.x+q.translateX,s=j.y+q.translateY;r*=this.scaleX,s*=this.scaleY;var h=r+j.width*this.scaleX,i=s+j.height*this.scaleY;return r>this.stage.canvas.width||s>this.stage.canvas.height||0>h||0>i?!1:!0},this.paintOperations=function(i,j){for(var h=0;h<j.length;h++){j[h](i)}},this.findElements=function(i){for(var j=[],h=0;h<this.childs.length;h++){1==i(this.childs[h])&&j.push(this.childs[h])}return j},this.getElementsByClass=function(h){return this.findElements(function(i){return i instanceof h})},this.addOperation=function(h){return this.operations.push(h),this},this.clearOperations=function(){return this.operations=[],this},this.getElementByXY=function(j,s){for(var t=null,u=this.zIndexArray.length-1;u>=0;u--){for(var v=this.zIndexArray[u],w=this.zIndexMap[v],h=w.length-1;h>=0;h--){var i=w[h];if(i instanceof b.InteractiveElement&&this.isVisiable(i)&&i.isInBound(j,s)){return t=i}}}return t},this.add=function(h){this.childs.push(h),null==this.zIndexMap[h.zIndex]&&(this.zIndexMap[h.zIndex]=[],this.zIndexArray.push(h.zIndex),this.zIndexArray.sort(function(i,j){return i-j})),this.zIndexMap[""+h.zIndex].push(h)},this.remove=function(i){this.childs=b.util.removeFromArray(this.childs,i);var h=this.zIndexMap[i.zIndex];h&&(this.zIndexMap[i.zIndex]=b.util.removeFromArray(h,i)),i.removeHandler(this)},this.clear=function(){var h=this;this.childs.forEach(function(i){i.removeHandler(h)}),this.childs=[],this.operations=[],this.zIndexArray=[],this.zIndexMap={}},this.addToSelected=function(h){this.selectedElements.push(h)},this.cancleAllSelected=function(h){for(var i=0;i<this.selectedElements.length;i++){this.selectedElements[i].unselectedHandler(h)}this.selectedElements=[]},this.notInSelectedNodes=function(h){for(var i=0;i<this.selectedElements.length;i++){if(h===this.selectedElements[i]){return !1}}return !0},this.removeFromSelected=function(i){for(var j=0;j<this.selectedElements.length;j++){var h=this.selectedElements[j];i===h&&(this.selectedElements=this.selectedElements.del(j))}},this.toSceneEvent=function(j){var h=b.util.clone(j);if(h.x/=this.scaleX,h.y/=this.scaleY,1==this.translate){var i=this.getOffsetTranslate();h.x-=i.translateX,h.y-=i.translateY}return null!=h.dx&&(h.dx/=this.scaleX,h.dy/=this.scaleY),null!=this.currentElement&&(h.target=this.currentElement),h.scene=this,h},this.selectElement=function(j){var n=k.getElementByXY(j.x,j.y);if(null!=n){if(j.target=n,n.mousedownHander(j),n.selectedHandler(j),k.notInSelectedNodes(n)){j.ctrlKey||k.cancleAllSelected(),k.addToSelected(n)}else{1==j.ctrlKey&&(n.unselectedHandler(),this.removeFromSelected(n));for(var h=0;h<this.selectedElements.length;h++){var i=this.selectedElements[h];i.selectedHandler(j)}}}else{j.ctrlKey||k.cancleAllSelected()}this.currentElement=n},this.mousedownHandler=function(i){var h=this.toSceneEvent(i);if(this.mouseDown=!0,this.mouseDownX=h.x,this.mouseDownY=h.y,this.mouseDownEvent=h,this.mode==b.SceneMode.normal){this.selectElement(h),(null==this.currentElement||this.currentElement instanceof b.Link)&&1==this.translate&&(this.lastTranslateX=this.translateX,this.lastTranslateY=this.translateY)}else{if(this.mode==b.SceneMode.drag&&1==this.translate){return this.lastTranslateX=this.translateX,void (this.lastTranslateY=this.translateY)}this.mode==b.SceneMode.select?this.selectElement(h):this.mode==b.SceneMode.edit&&(this.selectElement(h),(null==this.currentElement||this.currentElement instanceof b.Link)&&1==this.translate&&(this.lastTranslateX=this.translateX,this.lastTranslateY=this.translateY))}k.dispatchEvent("mousedown",h)},this.mouseupHandler=function(i){this.stage.cursor!=b.MouseCursor.normal&&(this.stage.cursor=b.MouseCursor.normal),k.clearOperations();var h=this.toSceneEvent(i);null!=this.currentElement&&(h.target=k.currentElement,this.currentElement.mouseupHandler(h)),this.dispatchEvent("mouseup",h),this.mouseDown=!1},this.dragElements=function(n){if(null!=this.currentElement&&1==this.currentElement.dragable){for(var h=0;h<this.selectedElements.length;h++){var i=this.selectedElements[h];if(0!=i.dragable){var j=b.util.clone(n);j.target=i,i.mousedragHandler(j)}}}},this.mousedragHandler=function(i){var h=this.toSceneEvent(i);this.mode==b.SceneMode.normal?null==this.currentElement||this.currentElement instanceof b.Link?1==this.translate&&(this.stage.cursor=b.MouseCursor.closed_hand,this.translateX=this.lastTranslateX+h.dx,this.translateY=this.lastTranslateY+h.dy):this.dragElements(h):this.mode==b.SceneMode.drag?1==this.translate&&(this.stage.cursor=b.MouseCursor.closed_hand,this.translateX=this.lastTranslateX+h.dx,this.translateY=this.lastTranslateY+h.dy):this.mode==b.SceneMode.select?null!=this.currentElement?1==this.currentElement.dragable&&this.dragElements(h):1==this.areaSelect&&this.areaSelectHandle(h):this.mode==b.SceneMode.edit&&(null==this.currentElement||this.currentElement instanceof b.Link?1==this.translate&&(this.stage.cursor=b.MouseCursor.closed_hand,this.translateX=this.lastTranslateX+h.dx,this.translateY=this.lastTranslateY+h.dy):this.dragElements(h)),this.dispatchEvent("mousedrag",h)},this.areaSelectHandle=function(i){var l=i.offsetLeft,m=i.offsetTop,n=this.mouseDownEvent.offsetLeft,o=this.mouseDownEvent.offsetTop,p=l>=n?n:l,E=m>=o?o:m,F=Math.abs(i.dx)*this.scaleX,G=Math.abs(i.dy)*this.scaleY,H=new g(p,E,F,G);k.clearOperations().addOperation(H),l=i.x,m=i.y,n=this.mouseDownEvent.x,o=this.mouseDownEvent.y,p=l>=n?n:l,E=m>=o?o:m,F=Math.abs(i.dx),G=Math.abs(i.dy);for(var I=p+F,J=E+G,h=0;h<k.childs.length;h++){var j=k.childs[h];j.x>p&&j.x+j.width<I&&j.y>E&&j.y+j.height<J&&k.notInSelectedNodes(j)&&(j.selectedHandler(i),k.addToSelected(j))}},this.mousemoveHandler=function(j){this.mousecoord={x:j.x,y:j.y};var h=this.toSceneEvent(j);if(this.mode==b.SceneMode.drag){return void (this.stage.cursor=b.MouseCursor.open_hand)}this.mode==b.SceneMode.normal?this.stage.cursor=b.MouseCursor.normal:this.mode==b.SceneMode.select&&(this.stage.cursor=b.MouseCursor.normal);var i=k.getElementByXY(h.x,h.y);null!=i?(k.mouseOverelement&&k.mouseOverelement!==i&&(h.target=i,k.mouseOverelement.mouseoutHandler(h)),k.mouseOverelement=i,0==i.isMouseOver?(h.target=i,i.mouseoverHandler(h),k.dispatchEvent("mouseover",h)):(h.target=i,i.mousemoveHandler(h),k.dispatchEvent("mousemove",h))):k.mouseOverelement?(h.target=i,k.mouseOverelement.mouseoutHandler(h),k.mouseOverelement=null,k.dispatchEvent("mouseout",h)):(h.target=null,k.dispatchEvent("mousemove",h))},this.mouseoverHandler=function(h){var i=this.toSceneEvent(h);this.dispatchEvent("mouseover",i)},this.mouseoutHandler=function(h){var i=this.toSceneEvent(h);this.dispatchEvent("mouseout",i)},this.clickHandler=function(h){var i=this.toSceneEvent(h);this.currentElement&&(i.target=this.currentElement,this.currentElement.clickHandler(i)),this.dispatchEvent("click",i)},this.dbclickHandler=function(h){var i=this.toSceneEvent(h);this.currentElement?(i.target=this.currentElement,this.currentElement.dbclickHandler(i)):k.cancleAllSelected(),this.dispatchEvent("dbclick",i)},this.mousewheelHandler=function(h){var i=this.toSceneEvent(h);this.dispatchEvent("mousewheel",i)},this.touchstart=this.mousedownHander,this.touchmove=this.mousedragHandler,this.touchend=this.mousedownHander,this.keydownHandler=function(h){this.dispatchEvent("keydown",h)},this.keyupHandler=function(h){this.dispatchEvent("keyup",h)},this.addEventListener=function(j,n){var h=this,i=function(l){n.call(h,l)};return this.messageBus.subscribe(j,i),this},this.removeEventListener=function(h){this.messageBus.unsubscribe(h)},this.removeAllEventListener=function(){this.messageBus=new b.util.MessageBus},this.dispatchEvent=function(h,i){return this.messageBus.publish(h,i),this};var d="click,dbclick,mousedown,mouseup,mouseover,mouseout,mousemove,mousedrag,mousewheel,touchstart,touchmove,touchend,keydown,keyup".split(","),e=this;return d.forEach(function(h){e[h]=function(i){null!=i?this.addEventListener(h,i):this.dispatchEvent(h)}}),this.zoom=function(h,i){null!=h&&0!=h&&(this.scaleX=h),null!=i&&0!=i&&(this.scaleY=i)},this.zoomOut=function(h){0!=h&&(null==h&&(h=0.8),this.scaleX/=h,this.scaleY/=h)},this.zoomIn=function(h){0!=h&&(null==h&&(h=0.8),this.scaleX*=h,this.scaleY*=h)},this.getBound=function(){return{left:0,top:0,right:this.stage.canvas.width,bottom:this.stage.canvas.height,width:this.stage.canvas.width,height:this.stage.canvas.height}},this.getElementsBound=function(){return b.util.getElementsBound(this.childs)},this.translateToCenter=function(j){var n=this.getElementsBound(),h=this.stage.canvas.width/2-(n.left+n.right)/2,i=this.stage.canvas.height/2-(n.top+n.bottom)/2;j&&(h=j.canvas.width/2-(n.left+n.right)/2,i=j.canvas.height/2-(n.top+n.bottom)/2),this.translateX=h,this.translateY=i},this.setCenter=function(j,n){var h=j-this.stage.canvas.width/2,i=n-this.stage.canvas.height/2;this.translateX=-h,this.translateY=-i},this.centerAndZoom=function(y,h,i){if(this.translateToCenter(i),null==y||null==h){var j=this.getElementsBound(),t=j.right-j.left,u=j.bottom-j.top,v=this.stage.canvas.width/t,w=this.stage.canvas.height/u;i&&(v=i.canvas.width/t,w=i.canvas.height/u);var x=Math.min(v,w);if(x>1){return}this.zoom(x,x)}this.zoom(y,h)},this.getCenterLocation=function(){return{x:k.stage.canvas.width/2,y:k.stage.canvas.height/2}},this.doLayout=function(h){h&&h(this,this.childs)},this.toJson=function(){var i=this,j="{";this.serializedProperties.length;this.serializedProperties.forEach(function(o){var l=i[o];"background"==o&&(l=i._background.src),"string"==typeof l&&(l='"'+l+'"'),j+='"'+o+'":'+l+","}),j+='"childs":[';var h=this.childs.length;return this.childs.forEach(function(n,l){j+=n.toJson(),h>l+1&&(j+=",")}),j+="]",j+="}"},k}c.prototype=new b.Element;var a={};Object.defineProperties(c.prototype,{background:{get:function(){return this._background},set:function(d){if("string"==typeof d){var e=a[d];null==e&&(e=new Image,e.src=d,e.onload=function(){a[d]=e}),this._background=e}else{this._background=d}}}}),b.Scene=c}(JTopo),function(c){function d(){this.initialize=function(){d.prototype.initialize.apply(this,arguments),this.elementType="displayElement",this.x=0,this.y=0,this.width=32,this.height=32,this.visible=!0,this.alpha=1,this.rotate=0,this.scaleX=1,this.scaleY=1,this.strokeColor="22,124,255",this.borderColor="22,124,255",this.fillColor="22,124,255",this.shadow=!1,this.shadowBlur=5,this.shadowColor="rgba(0,0,0,0.5)",this.shadowOffsetX=3,this.shadowOffsetY=6,this.transformAble=!1,this.zIndex=0;var e="x,y,width,height,visible,alpha,rotate,scaleX,scaleY,strokeColor,fillColor,shadow,shadowColor,shadowOffsetX,shadowOffsetY,transformAble,zIndex".split(",");this.serializedProperties=this.serializedProperties.concat(e)},this.initialize(),this.paint=function(e){e.beginPath(),e.fillStyle="rgba("+this.fillColor+","+this.alpha+")",e.rect(-this.width/2,-this.height/2,this.width,this.height),e.fill(),e.stroke(),e.closePath()},this.getLocation=function(){return{x:this.x,y:this.y}},this.setLocation=function(e,f){return this.x=e,this.y=f,this},this.getCenterLocation=function(){return{x:this.x+this.width/2,y:this.y+this.height/2}},this.setCenterLocation=function(e,f){return this.x=e-this.width/2,this.y=f-this.height/2,this},this.getSize=function(){return{width:this.width,height:this.heith}},this.setSize=function(e,f){return this.width=e,this.height=f,this},this.getBound=function(){return{left:this.x,top:this.y,right:this.x+this.width,bottom:this.y+this.height,width:this.width,height:this.height}},this.setBound=function(g,h,e,f){return this.setLocation(g,h),this.setSize(e,f),this},this.getDisplayBound=function(){return{left:this.x,top:this.y,right:this.x+this.width*this.scaleX,bottom:this.y+this.height*this.scaleY}},this.getDisplaySize=function(){return{width:this.width*this.scaleX,height:this.height*this.scaleY}},this.getPosition=function(f){var g,e=this.getBound();return"Top_Left"==f?g={x:e.left,y:e.top}:"Top_Center"==f?g={x:this.cx,y:e.top}:"Top_Right"==f?g={x:e.right,y:e.top}:"Middle_Left"==f?g={x:e.left,y:this.cy}:"Middle_Center"==f?g={x:this.cx,y:this.cy}:"Middle_Right"==f?g={x:e.right,y:this.cy}:"Bottom_Left"==f?g={x:e.left,y:e.bottom}:"Bottom_Center"==f?g={x:this.cx,y:e.bottom}:"Bottom_Right"==f&&(g={x:e.right,y:e.bottom}),g}}function a(){this.initialize=function(){a.prototype.initialize.apply(this,arguments),this.elementType="interactiveElement",this.dragable=!1,this.selected=!1,this.showSelected=!0,this.selectedLocation=null,this.isMouseOver=!1;var g="dragable,selected,showSelected,isMouseOver".split(",");this.serializedProperties=this.serializedProperties.concat(g)},this.initialize(),this.paintSelected=function(g){0!=this.showSelected&&(g.save(),g.beginPath(),g.strokeStyle="rgba(168,202,255, 0.9)",g.fillStyle="rgba(168,202,236,0.7)",g.rect(-this.width/2-3,-this.height/2-3,this.width+6,this.height+6),g.fill(),g.stroke(),g.closePath(),g.restore())},this.paintMouseover=function(g){return this.paintSelected(g)},this.isInBound=function(g,h){return g>this.x&&g<this.x+this.width*Math.abs(this.scaleX)&&h>this.y&&h<this.y+this.height*Math.abs(this.scaleY)},this.selectedHandler=function(){this.selected=!0,this.selectedLocation={x:this.x,y:this.y}},this.unselectedHandler=function(){this.selected=!1,this.selectedLocation=null},this.dbclickHandler=function(g){this.dispatchEvent("dbclick",g)},this.clickHandler=function(g){this.dispatchEvent("click",g)},this.mousedownHander=function(g){this.dispatchEvent("mousedown",g)},this.mouseupHandler=function(g){this.dispatchEvent("mouseup",g)},this.mouseoverHandler=function(g){this.isMouseOver=!0,this.dispatchEvent("mouseover",g)},this.mousemoveHandler=function(g){this.dispatchEvent("mousemove",g)},this.mouseoutHandler=function(g){this.isMouseOver=!1,this.dispatchEvent("mouseout",g)},this.mousedragHandler=function(h){var k=this.selectedLocation.x+h.dx,g=this.selectedLocation.y+h.dy;this.setLocation(k,g),this.dispatchEvent("mousedrag",h)},this.addEventListener=function(n,g){var h=this,m=function(i){g.call(h,i)};return this.messageBus||(this.messageBus=new c.util.MessageBus),this.messageBus.subscribe(n,m),this},this.dispatchEvent=function(g,h){return this.messageBus?(this.messageBus.publish(g,h),this):null},this.removeEventListener=function(g){this.messageBus.unsubscribe(g)},this.removeAllEventListener=function(){this.messageBus=new c.util.MessageBus};var e="click,dbclick,mousedown,mouseup,mouseover,mouseout,mousemove,mousedrag,touchstart,touchmove,touchend".split(","),f=this;e.forEach(function(g){f[g]=function(h){null!=h?this.addEventListener(g,h):this.dispatchEvent(g)}})}function b(){this.initialize=function(){b.prototype.initialize.apply(this,arguments),this.editAble=!1,this.selectedPoint=null},this.getCtrlPosition=function(h){var m=5,f=5,g=this.getPosition(h);return{left:g.x-m,top:g.y-f,right:g.x+m,bottom:g.y+f}},this.selectedHandler=function(f){b.prototype.selectedHandler.apply(this,arguments),this.selectedSize={width:this.width,height:this.height},f.scene.mode==c.SceneMode.edit&&(this.editAble=!0)},this.unselectedHandler=function(){b.prototype.unselectedHandler.apply(this,arguments),this.selectedSize=null,this.editAble=!1};var e=["Top_Left","Top_Center","Top_Right","Middle_Left","Middle_Right","Bottom_Left","Bottom_Center","Bottom_Right"];this.paintCtrl=function(f){if(0!=this.editAble){f.save();for(var g=0;g<e.length;g++){var h=this.getCtrlPosition(e[g]);h.left-=this.cx,h.right-=this.cx,h.top-=this.cy,h.bottom-=this.cy;var m=h.right-h.left,n=h.bottom-h.top;f.beginPath(),f.strokeStyle="rgba(0,0,0,0.8)",f.rect(h.left,h.top,m,n),f.stroke(),f.closePath(),f.beginPath(),f.strokeStyle="rgba(255,255,255,0.3)",f.rect(h.left+1,h.top+1,m-2,n-2),f.stroke(),f.closePath()}f.restore()}},this.isInBound=function(f,g){if(this.selectedPoint=null,1==this.editAble){for(var h=0;h<e.length;h++){var k=this.getCtrlPosition(e[h]);if(f>k.left&&f<k.right&&g>k.top&&g<k.bottom){return this.selectedPoint=e[h],!0}}}return b.prototype.isInBound.apply(this,arguments)},this.mousedragHandler=function(n){if(null==this.selectedPoint){var o=this.selectedLocation.x+n.dx,f=this.selectedLocation.y+n.dy;this.setLocation(o,f),this.dispatchEvent("mousedrag",n)}else{if("Top_Left"==this.selectedPoint){var g=this.selectedSize.width-n.dx,h=this.selectedSize.height-n.dy,o=this.selectedLocation.x+n.dx,f=this.selectedLocation.y+n.dy;o<this.x+this.width&&(this.x=o,this.width=g),f<this.y+this.height&&(this.y=f,this.height=h)}else{if("Top_Center"==this.selectedPoint){var h=this.selectedSize.height-n.dy,f=this.selectedLocation.y+n.dy;f<this.y+this.height&&(this.y=f,this.height=h)}else{if("Top_Right"==this.selectedPoint){var g=this.selectedSize.width+n.dx,f=this.selectedLocation.y+n.dy;f<this.y+this.height&&(this.y=f,this.height=this.selectedSize.height-n.dy),g>1&&(this.width=g)}else{if("Middle_Left"==this.selectedPoint){var g=this.selectedSize.width-n.dx,o=this.selectedLocation.x+n.dx;o<this.x+this.width&&(this.x=o),g>1&&(this.width=g)}else{if("Middle_Right"==this.selectedPoint){var g=this.selectedSize.width+n.dx;g>1&&(this.width=g)}else{if("Bottom_Left"==this.selectedPoint){var g=this.selectedSize.width-n.dx,o=this.selectedLocation.x+n.dx;g>1&&(this.x=o,this.width=g);var h=this.selectedSize.height+n.dy;h>1&&(this.height=h)}else{if("Bottom_Center"==this.selectedPoint){var h=this.selectedSize.height+n.dy;h>1&&(this.height=h)}else{if("Bottom_Right"==this.selectedPoint){var g=this.selectedSize.width+n.dx;g>1&&(this.width=g);var h=this.selectedSize.height+n.dy;h>1&&(this.height=h)}}}}}}}}this.dispatchEvent("resize",n)}}}d.prototype=new c.Element,Object.defineProperties(d.prototype,{cx:{get:function(){return this.x+this.width/2},set:function(e){this.x=e-this.width/2}},cy:{get:function(){return this.y+this.height/2},set:function(e){this.y=e-this.height/2}}}),a.prototype=new d,b.prototype=new a,c.DisplayElement=d,c.InteractiveElement=a,c.EditableElement=b}(JTopo),function(i){function j(k){this.initialize=function(m){j.prototype.initialize.apply(this,arguments),this.elementType="node",this.zIndex=i.zIndex_Node,this.text=m,this.font="12px Consolas",this.fontColor="255,255,255",this.borderWidth=0,this.borderColor="255,255,255",this.borderRadius=null,this.dragable=!0,this.textPosition="Bottom_Center",this.textOffsetX=0,this.textOffsetY=0,this.transformAble=!0,this.inLinks=null,this.outLinks=null;var l="text,font,fontColor,textPosition,textOffsetX,textOffsetY,borderRadius".split(",");this.serializedProperties=this.serializedProperties.concat(l)},this.initialize(k),this.paint=function(l){if(this.image){var m=l.globalAlpha;l.globalAlpha=this.alpha,null!=this.image.alarm&&null!=this.alarm?l.drawImage(this.image.alarm,-this.width/2,-this.height/2,this.width,this.height):l.drawImage(this.image,-this.width/2,-this.height/2,this.width,this.height),l.globalAlpha=m}else{l.beginPath(),l.fillStyle="rgba("+this.fillColor+","+this.alpha+")",null==this.borderRadius||0==this.borderRadius?l.rect(-this.width/2,-this.height/2,this.width,this.height):l.JTopoRoundRect(-this.width/2,-this.height/2,this.width,this.height,this.borderRadius),l.fill(),l.closePath()}this.paintText(l),this.paintBorder(l),this.paintCtrl(l),this.paintAlarmText(l),this.paintTriangle(l)},this.paintTriangle=function(p){var q="0,0,0",l=0.5;if(this.inTriangle){p.beginPath(),p.font=this.font;var n=p.measureText("田").width;p.fillStyle="rgba("+q+","+l+")";var m=0;var o=-this.width/2;p.moveTo(o,m),p.lineTo(o-6,m+4),p.lineTo(o-6,m-4),p.lineTo(o,m),p.fill(),p.stroke(),p.closePath()}if(this.outTriangle){p.beginPath(),p.font=this.font;var n=p.measureText("田").width;p.fillStyle="rgba("+q+","+l+")";var m=0;var o=this.width/2+6;p.moveTo(o,m),p.lineTo(o-6,m+4),p.lineTo(o-6,m-4),p.lineTo(o,m),p.fill(),p.stroke(),p.closePath()}},this.paintAlarmText=function(q){if(null!=this.alarm&&""!=this.alarm){var r=this.alarmColor||"255,0,0",l=this.alarmAlpha||0.5;q.beginPath(),q.font=this.alarmFont||"10px 微软雅黑";var m=q.measureText(this.alarm).width+6,n=q.measureText("田").width+6,p=this.width/2-m/2,o=-this.height/2-n-8;q.strokeStyle="rgba("+r+", "+l+")",q.fillStyle="rgba("+r+", "+l+")",q.lineCap="round",q.lineWidth=1,q.moveTo(p,o),q.lineTo(p+m,o),q.lineTo(p+m,o+n),q.lineTo(p+m/2+6,o+n),q.lineTo(p+m/2,o+n+8),q.lineTo(p+m/2-6,o+n),q.lineTo(p,o+n),q.lineTo(p,o),q.fill(),q.stroke(),q.closePath(),q.beginPath(),q.strokeStyle="rgba("+this.fontColor+", "+this.alpha+")",q.fillStyle="rgba("+this.fontColor+", "+this.alpha+")",q.fillText(this.alarm,p+2,o+n-4),q.closePath()}},this.paintText=function(p){var r=this.text;if(null!=r&&""!=r){p.beginPath(),p.font=this.font;var o=r.split("\n");if(null!=o&&o.length){var s=0,q=o.length;o.forEach(function(v,t){var u=p.measureText(v).width;if(u>s){s=u}});var l=p.measureText("田").width;p.fillStyle="rgba("+this.fontColor+", "+this.alpha+")";var m=this.getTextPostion(this.textPosition,s,l,q);for(var n=0;n<o.length;n++){p.fillText(o[n],m.x,m.y+(l*n))}}p.closePath()}},this.paintBorder=function(l){if(0!=this.borderWidth){l.beginPath(),l.lineWidth=this.borderWidth,l.strokeStyle="rgba("+this.borderColor+","+this.alpha+")";var m=this.borderWidth/2;null==this.borderRadius||0==this.borderRadius?l.rect(-this.width/2-m,-this.height/2-m,this.width+this.borderWidth,this.height+this.borderWidth):l.JTopoRoundRect(-this.width/2-m,-this.height/2-m,this.width+this.borderWidth,this.height+this.borderWidth,this.borderRadius),l.stroke(),l.closePath()}},this.getTextPostion=function(n,p,l,o){var m=null;return null==n||"Bottom_Center"==n?m={x:-this.width/2+(this.width-p)/2,y:this.height/2+l}:"Top_Center"==n?m={x:-this.width/2+(this.width-p)/2,y:-this.height/2-l/2-(o-1)*l}:"Top_Right"==n?m={x:this.width/2,y:-this.height/2-l/2-(o-1)*l}:"Top_Left"==n?m={x:-this.width/2-p,y:-this.height/2-l/2-(o-1)*l}:"Bottom_Right"==n?m={x:this.width/2,y:this.height/2+l}:"Bottom_Left"==n?m={x:-this.width/2-p,y:this.height/2+l}:"Middle_Center"==n?m={x:-this.width/2+(this.width-p)/2,y:l-(l*o/2)}:"Middle_Right"==n?m={x:this.width/2,y:l-(l*o/2)}:"Middle_Left"==n&&(m={x:-this.width/2-p,y:l-(l*o/2)}),null!=this.textOffsetX&&(m.x+=this.textOffsetX),null!=this.textOffsetY&&(m.y+=this.textOffsetY),m},this.setImage=function(o,l){if(null==o){throw new Error("Node.setImage(): 参数Image对象为空!")}var m=this;if("string"==typeof o){var n=h[o];null==n?(n=new Image,n.src=o,n.onload=function(){h[o]=n,1==l&&m.setSize(n.width,n.height);var p=i.util.genImageAlarm(n);p&&(n.alarm=p),m.image=n}):(l&&this.setSize(n.width,n.height),this.image=n)}else{this.image=o,1==l&&this.setSize(o.width,o.height)}},this.removeHandler=function(l){var m=this;this.outLinks&&(this.outLinks.forEach(function(n){n.nodeA===m&&l.remove(n)}),this.outLinks=null),this.inLinks&&(this.inLinks.forEach(function(n){n.nodeZ===m&&l.remove(n)}),this.inLinks=null)}}function a(){a.prototype.initialize.apply(this,arguments)}function b(k){this.initialize(),this.text=k,this.elementType="TextNode",this.paint=function(l){l.beginPath(),l.font=this.font,this.width=l.measureText(this.text).width,this.height=l.measureText("田").width,l.strokeStyle="rgba("+this.fontColor+", "+this.alpha+")",l.fillStyle="rgba("+this.fontColor+", "+this.alpha+")",l.fillText(this.text,-this.width/2,this.height/2),l.closePath(),this.paintBorder(l),this.paintCtrl(l),this.paintAlarmText(l),this.paintTriangle(l)}}function c(l,m,k){this.initialize(),this.text=l,this.href=m,this.target=k,this.elementType="LinkNode",this.isVisited=!1,this.visitedColor=null,this.paint=function(n){n.beginPath(),n.font=this.font,this.width=n.measureText(this.text).width,this.height=n.measureText("田").width,this.isVisited&&null!=this.visitedColor?(n.strokeStyle="rgba("+this.visitedColor+", "+this.alpha+")",n.fillStyle="rgba("+this.visitedColor+", "+this.alpha+")"):(n.strokeStyle="rgba("+this.fontColor+", "+this.alpha+")",n.fillStyle="rgba("+this.fontColor+", "+this.alpha+")"),n.fillText(this.text,-this.width/2,this.height/2),this.isMouseOver&&(n.moveTo(-this.width/2,this.height),n.lineTo(this.width/2,this.height),n.stroke()),n.closePath(),this.paintBorder(n),this.paintCtrl(n),this.paintAlarmText(n),this.paintTriangle(n)},this.mousemove(function(){var n=document.getElementsByTagName("canvas");if(n&&n.length>0){for(var o=0;o<n.length;o++){n[o].style.cursor="pointer"}}}),this.mouseout(function(){var n=document.getElementsByTagName("canvas");if(n&&n.length>0){for(var o=0;o<n.length;o++){n[o].style.cursor="default"}}}),this.click(function(){"_blank"==this.target?window.open(this.href):location=this.href,this.isVisited=!0})}function d(k){this.initialize(arguments),this._radius=20,this.beginDegree=0,this.endDegree=2*Math.PI,this.text=k,this.paint=function(l){l.save(),l.beginPath(),l.fillStyle="rgba("+this.fillColor+","+this.alpha+")",l.arc(0,0,this.radius,this.beginDegree,this.endDegree,!0),l.fill(),l.closePath(),l.restore(),this.paintText(l),this.paintBorder(l),this.paintCtrl(l),this.paintAlarmText(l),this.paintTriangle(l)},this.paintSelected=function(l){l.save(),l.beginPath(),l.strokeStyle="rgba(168,202,255, 0.9)",l.fillStyle="rgba(168,202,236,0.7)",l.arc(0,0,this.radius+3,this.beginDegree,this.endDegree,!0),l.fill(),l.stroke(),l.closePath(),l.restore()}}function e(n,o,k){this.initialize(),this.frameImages=n||[],this.frameIndex=0,this.isStop=!0;var l=o||1000;this.repeatPlay=!1;var m=this;this.nextFrame=function(){if(!this.isStop&&null!=this.frameImages.length){if(this.frameIndex++,this.frameIndex>=this.frameImages.length){if(!this.repeatPlay){return}this.frameIndex=0}this.setImage(this.frameImages[this.frameIndex],k),setTimeout(function(){m.nextFrame()},l/n.length)}}}function f(p,q,k,l,m){this.initialize();var o=this;this.setImage(p),this.frameIndex=0,this.isPause=!0,this.repeatPlay=!1;var n=l||1000;m=m||0,this.paint=function(s){if(this.image){var v=this.width,r=this.height;s.save(),s.beginPath(),s.fillStyle="rgba("+this.fillColor+","+this.alpha+")";var t=(Math.floor(this.frameIndex/k)+m)*r,u=Math.floor(this.frameIndex%k)*v;s.drawImage(this.image,u,t,v,r,-v/2,-r/2,v,r),s.fill(),s.closePath(),s.restore(),this.paintText(s),this.paintBorder(s),this.paintCtrl(s),this.paintAlarmText(s),this.paintTriangle(s)}},this.nextFrame=function(){if(!this.isStop){if(this.frameIndex++,this.frameIndex>=q*k){if(!this.repeatPlay){return}this.frameIndex=0}setTimeout(function(){o.isStop||o.nextFrame()},n/(q*k))}}}function g(){var k=null;return k=arguments.length<=3?new e(arguments[0],arguments[1],arguments[2]):new f(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),k.stop=function(){k.isStop=!0},k.play=function(){k.isStop=!1,k.frameIndex=0,k.nextFrame()},k}var h={};j.prototype=new i.EditableElement,a.prototype=new j,b.prototype=new a,c.prototype=new b,d.prototype=new a,Object.defineProperties(d.prototype,{radius:{get:function(){return this._radius},set:function(l){this._radius=l;var m=2*this.radius,k=2*this.radius;this.width=m,this.height=k}},width:{get:function(){return this._width},set:function(k){this._radius=k/2,this._width=k}},height:{get:function(){return this._height},set:function(k){this._radius=k/2,this._height=k}}}),e.prototype=new a,f.prototype=new a,g.prototype=new a,i.Node=a,i.TextNode=b,i.LinkNode=c,i.CircleNode=d,i.AnimateNode=g}(JTopo),function(a){function b(n,p){var j=[];if(null==n||null==p){return j}if(n&&p&&n.outLinks&&p.inLinks){for(var k=0;k<n.outLinks.length;k++){for(var l=n.outLinks[k],m=0;m<p.inLinks.length;m++){var o=p.inLinks[m];l===o&&j.push(o)}}}return j}function c(j,m){var k=b(j,m),l=b(m,j),n=k.concat(l);return n}function d(j){var k=c(j.nodeA,j.nodeZ);return k=k.filter(function(l){return j!==l})}function e(j,k){return c(j,k).length}function f(j,k,l){function m(s,o){var q=a.util.lineF(s.cx,s.cy,o.cx,o.cy),p=s.getBound(),r=a.util.intersectionLineBound(q,p);return r}this.initialize=function(r,p,o){if(f.prototype.initialize.apply(this,arguments),this.elementType="link",this.zIndex=a.zIndex_Link,0!=arguments.length){this.text=o,this.nodeA=r,this.nodeZ=p,this.nodeA&&null==this.nodeA.outLinks&&(this.nodeA.outLinks=[]),this.nodeA&&null==this.nodeA.inLinks&&(this.nodeA.inLinks=[]),this.nodeZ&&null==this.nodeZ.inLinks&&(this.nodeZ.inLinks=[]),this.nodeZ&&null==this.nodeZ.outLinks&&(this.nodeZ.outLinks=[]),null!=this.nodeA&&this.nodeA.outLinks.push(this),null!=this.nodeZ&&this.nodeZ.inLinks.push(this),this.caculateIndex(),this.font="12px Consolas",this.fontColor="255,255,255",this.lineWidth=2,this.lineJoin="miter",this.transformAble=!1,this.bundleOffset=20,this.bundleGap=12,this.textOffsetX=0,this.textOffsetY=0,this.arrowsRadius=null,this.arrowsOffset=0,this.dashedPattern=null,this.path=[];var q="text,font,fontColor,lineWidth,lineJoin".split(",");this.serializedProperties=this.serializedProperties.concat(q)}},this.caculateIndex=function(){var o=e(this.nodeA,this.nodeZ);o>0&&(this.nodeIndex=o-1)},this.initialize(j,k,l),this.removeHandler=function(){var o=this;this.nodeA&&this.nodeA.outLinks&&(this.nodeA.outLinks=this.nodeA.outLinks.filter(function(q){return q!==o})),this.nodeZ&&this.nodeZ.inLinks&&(this.nodeZ.inLinks=this.nodeZ.inLinks.filter(function(q){return q!==o}));var p=d(this);p.forEach(function(q,r){q.nodeIndex=r})},this.getStartPosition=function(){var o={x:this.nodeA.cx,y:this.nodeA.cy};return o},this.getEndPosition=function(){var o;return null!=this.arrowsRadius&&(o=m(this.nodeZ,this.nodeA)),null==o&&(o={x:this.nodeZ.cx,y:this.nodeZ.cy}),o},this.getPath=function(){var M=[],N=this.getStartPosition(),o=this.getEndPosition();if(this.nodeA===this.nodeZ){return[N,o]}var p=e(this.nodeA,this.nodeZ);if(1==p){return[N,o]}var q=Math.atan2(o.y-N.y,o.x-N.x),r={x:N.x+this.bundleOffset*Math.cos(q),y:N.y+this.bundleOffset*Math.sin(q)},s={x:o.x+this.bundleOffset*Math.cos(q-Math.PI),y:o.y+this.bundleOffset*Math.sin(q-Math.PI)},G=q-Math.PI/2,H=q-Math.PI/2,I=p*this.bundleGap/2-this.bundleGap/2,J=this.bundleGap*this.nodeIndex,K={x:r.x+J*Math.cos(G),y:r.y+J*Math.sin(G)},L={x:s.x+J*Math.cos(H),y:s.y+J*Math.sin(H)};return K={x:K.x+I*Math.cos(G-Math.PI),y:K.y+I*Math.sin(G-Math.PI)},L={x:L.x+I*Math.cos(H-Math.PI),y:L.y+I*Math.sin(H-Math.PI)},M.push({x:N.x,y:N.y}),M.push({x:K.x,y:K.y}),M.push({x:L.x,y:L.y}),M.push({x:o.x,y:o.y}),M},this.paintPath=function(r,s){if(this.nodeA===this.nodeZ){return void this.paintLoop(r)}r.beginPath(),r.moveTo(s[0].x,s[0].y);for(var o=1;o<s.length;o++){null==this.dashedPattern?r.lineTo(s[o].x,s[o].y):r.JTopoDashedLineTo(s[o-1].x,s[o-1].y,s[o].x,s[o].y,this.dashedPattern)}if(r.stroke(),r.closePath(),null!=this.arrowsRadius){var q=s[s.length-2],p=s[s.length-1];this.paintArrow(r,q,p)}},this.paintLoop=function(o){o.beginPath();var p=this.bundleGap*(this.nodeIndex+1)/2;Math.PI+Math.PI/2;o.arc(this.nodeA.x,this.nodeA.y,p,Math.PI/2,2*Math.PI),o.stroke(),o.closePath()},this.paintArrow=function(M,O,Q){var R=this.arrowsOffset,o=this.arrowsRadius/2,p=O,q=Q,r=Math.atan2(q.y-p.y,q.x-p.x),s=a.util.getDistance(p,q)-this.arrowsRadius,I=p.x+(s+R)*Math.cos(r),J=p.y+(s+R)*Math.sin(r),K=q.x+R*Math.cos(r),L=q.y+R*Math.sin(r);r-=Math.PI/2;var N={x:I+o*Math.cos(r),y:J+o*Math.sin(r)},P={x:I+o*Math.cos(r-Math.PI),y:J+o*Math.sin(r-Math.PI)};M.beginPath(),M.fillStyle="rgba("+this.strokeColor+","+this.alpha+")",M.moveTo(N.x,N.y),M.lineTo(K,L),M.lineTo(P.x,P.y),M.stroke(),M.closePath()},this.paint=function(o){if(null!=this.nodeA&&null!=!this.nodeZ){var p=this.getPath(this.nodeIndex);this.path=p,o.strokeStyle="rgba("+this.strokeColor+","+this.alpha+")",o.lineWidth=this.lineWidth,this.paintPath(o,p),p&&p.length>0&&this.paintText(o,p)}};var n=-(Math.PI/2+Math.PI/4);this.paintText=function(o,q){var r=q[0],s=q[q.length-1];if(4==q.length&&(r=q[1],s=q[2]),this.text&&this.text.length>0){var B=(s.x+r.x)/2+this.textOffsetX,C=(s.y+r.y)/2+this.textOffsetY;o.save(),o.beginPath(),o.font=this.font;var D=o.measureText(this.text).width,E=o.measureText("田").width;if(o.fillStyle="rgba("+this.fontColor+", "+this.alpha+")",this.nodeA===this.nodeZ){var p=this.bundleGap*(this.nodeIndex+1)/2,B=this.nodeA.x+p*Math.cos(n),C=this.nodeA.y+p*Math.sin(n);o.fillText(this.text,B,C)}else{o.fillText(this.text,B-D/2,C-E/2)}o.stroke(),o.closePath(),o.restore()}},this.paintSelected=function(o){o.shadowBlur=10,o.shadowColor="rgba(0,0,0,1)",o.shadowOffsetX=0,o.shadowOffsetY=0},this.isInBound=function(B,p){if(this.nodeA===this.nodeZ){var C=this.bundleGap*(this.nodeIndex+1)/2,D=a.util.getDistance(this.nodeA,{x:B,y:p})-C;return Math.abs(D)<=3}for(var o=!1,q=1;q<this.path.length;q++){var r=this.path[q-1],s=this.path[q];if(1==a.util.isPointInLine({x:B,y:p},r,s)){o=!0;break}}return o}}function g(k,l,j){this.initialize=function(){g.prototype.initialize.apply(this,arguments),this.direction="horizontal"},this.initialize(k,l,j),this.getStartPosition=function(){var m={x:this.nodeA.cx,y:this.nodeA.cy};return"horizontal"==this.direction?this.nodeZ.cx>m.x?m.x+=this.nodeA.width/2:m.x-=this.nodeA.width/2:this.nodeZ.cy>m.y?m.y+=this.nodeA.height/2:m.y-=this.nodeA.height/2,m},this.getEndPosition=function(){var m={x:this.nodeZ.cx,y:this.nodeZ.cy};return"horizontal"==this.direction?this.nodeA.cy<m.y?m.y-=this.nodeZ.height/2:m.y+=this.nodeZ.height/2:m.x=this.nodeA.cx<m.x?this.nodeZ.x:this.nodeZ.x+this.nodeZ.width,m},this.getPath=function(m){var n=[],o=this.getStartPosition(),p=this.getEndPosition();if(this.nodeA===this.nodeZ){return[o,p]}var q,r,B=e(this.nodeA,this.nodeZ),C=(B-1)*this.bundleGap,D=this.bundleGap*m-C/2;return"horizontal"==this.direction?(q=p.x+D,r=o.y-D,n.push({x:o.x,y:r}),n.push({x:q,y:r}),n.push({x:q,y:p.y})):(q=o.x+D,r=p.y-D,n.push({x:q,y:o.y}),n.push({x:q,y:r}),n.push({x:p.x,y:r})),n},this.paintText=function(q,x){if(this.text&&this.text.length>0){var m=x[1],n=m.x+this.textOffsetX,o=m.y+this.textOffsetY;q.save(),q.beginPath(),q.font=this.font;var p=q.measureText(this.text).width,r=q.measureText("田").width;q.fillStyle="rgba("+this.fontColor+", "+this.alpha+")",q.fillText(this.text,n-p/2,o-r/2),q.stroke(),q.closePath(),q.restore()}}}function h(k,l,j){this.initialize=function(){h.prototype.initialize.apply(this,arguments),this.direction="vertical",this.offsetGap=44},this.initialize(k,l,j),this.getStartPosition=function(){var m={x:this.nodeA.cx,y:this.nodeA.cy};return"horizontal"==this.direction?m.x=this.nodeZ.cx<m.x?this.nodeA.x:this.nodeA.x+this.nodeA.width:m.y=this.nodeZ.cy<m.y?this.nodeA.y:this.nodeA.y+this.nodeA.height,m},this.getEndPosition=function(){var m={x:this.nodeZ.cx,y:this.nodeZ.cy};return"horizontal"==this.direction?m.x=this.nodeA.cx<m.x?this.nodeZ.x:this.nodeZ.x+this.nodeZ.width:m.y=this.nodeA.cy<m.y?this.nodeZ.y:this.nodeZ.y+this.nodeZ.height,m},this.getPath=function(q){var r=this.getStartPosition(),A=this.getEndPosition();if(this.nodeA===this.nodeZ){return[r,A]}var B=[],m=e(this.nodeA,this.nodeZ),n=(m-1)*this.bundleGap,o=this.bundleGap*q-n/2,p=this.offsetGap;return"horizontal"==this.direction?(this.nodeA.cx>this.nodeZ.cx&&(p=-p),B.push({x:r.x,y:r.y+o}),B.push({x:r.x+p,y:r.y+o}),B.push({x:A.x-p,y:A.y+o}),B.push({x:A.x,y:A.y+o})):(this.nodeA.cy>this.nodeZ.cy&&(p=-p),B.push({x:r.x+o,y:r.y}),B.push({x:r.x+o,y:r.y+p}),B.push({x:A.x+o,y:A.y-p}),B.push({x:A.x+o,y:A.y})),B}}function i(k,l,j){this.initialize=function(){i.prototype.initialize.apply(this,arguments)},this.initialize(k,l,j),this.paintPath=function(m,n){if(this.nodeA===this.nodeZ){return void this.paintLoop(m)}m.beginPath(),m.moveTo(n[0].x,n[0].y);for(var o=1;o<n.length;o++){var p=n[o-1],q=n[o],r=(p.x+q.x)/2,B=(p.y+q.y)/2;B+=(q.y-p.y)/2,m.strokeStyle="rgba("+this.strokeColor+","+this.alpha+")",m.lineWidth=this.lineWidth,m.moveTo(p.x,p.cy),m.quadraticCurveTo(r,B,q.x,q.y),m.stroke()}if(m.stroke(),m.closePath(),null!=this.arrowsRadius){var C=n[n.length-2],D=n[n.length-1];this.paintArrow(m,C,D)}}}f.prototype=new a.InteractiveElement,g.prototype=new f,h.prototype=new f,i.prototype=new f,a.Link=f,a.FoldLink=g,a.FlexionalLink=h,a.CurveLink=i}(JTopo),function(a){function b(c){this.initialize=function(d){b.prototype.initialize.apply(this,null),this.elementType="container",this.zIndex=a.zIndex_Container,this.width=100,this.height=100,this.childs=[],this.alpha=0.5,this.dragable=!0,this.childDragble=!0,this.visible=!0,this.fillColor="10,100,80",this.borderWidth=0,this.borderColor="255,255,255",this.borderRadius=null,this.font="12px Consolas",this.fontColor="255,255,255",this.text=d,this.textPosition="Bottom_Center",this.textOffsetX=0,this.textOffsetY=0,this.layout=new a.layout.AutoBoundLayout},this.initialize(c),this.add=function(d){this.childs.push(d),d.dragable=this.childDragble},this.remove=function(d){for(var g=0;g<this.childs.length;g++){if(this.childs[g]===d){d.parentContainer=null,this.childs=this.childs.del(g),d.lastParentContainer=this;break}}},this.removeAll=function(){this.childs=[]},this.setLocation=function(n,o){var d=n-this.x,e=o-this.y;this.x=n,this.y=o;for(var f=0;f<this.childs.length;f++){var m=this.childs[f];m.setLocation(m.x+d,m.y+e)}},this.doLayout=function(d){d&&d(this,this.childs)},this.paint=function(d){this.visible&&(this.layout&&this.layout(this,this.childs),d.beginPath(),d.fillStyle="rgba("+this.fillColor+","+this.alpha+")",null==this.borderRadius||0==this.borderRadius?d.rect(this.x,this.y,this.width,this.height):d.JTopoRoundRect(this.x,this.y,this.width,this.height,this.borderRadius),d.fill(),d.closePath(),this.paintText(d),this.paintBorder(d))},this.paintBorder=function(d){if(0!=this.borderWidth){d.beginPath(),d.lineWidth=this.borderWidth,d.strokeStyle="rgba("+this.borderColor+","+this.alpha+")";var g=this.borderWidth/2;null==this.borderRadius||0==this.borderRadius?d.rect(this.x-g,this.y-g,this.width+this.borderWidth,this.height+this.borderWidth):d.JTopoRoundRect(this.x-g,this.y-g,this.width+this.borderWidth,this.height+this.borderWidth,this.borderRadius),d.stroke(),d.closePath()}},this.paintText=function(l){var m=this.text;if(null!=m&&""!=m){l.beginPath(),l.font=this.font;var d=l.measureText(m).width,e=l.measureText("田").width;l.fillStyle="rgba("+this.fontColor+", "+this.alpha+")";var k=this.getTextPostion(this.textPosition,d,e);l.fillText(m,k.x,k.y),l.closePath()}},this.getTextPostion=function(j,k,d){var i=null;return null==j||"Bottom_Center"==j?i={x:this.x+this.width/2-k/2,y:this.y+this.height+d}:"Top_Center"==j?i={x:this.x+this.width/2-k/2,y:this.y-d/2}:"Top_Right"==j?i={x:this.x+this.width-k,y:this.y-d/2}:"Top_Left"==j?i={x:this.x,y:this.y-d/2}:"Bottom_Right"==j?i={x:this.x+this.width-k,y:this.y+this.height+d}:"Bottom_Left"==j?i={x:this.x,y:this.y+this.height+d}:"Middle_Center"==j?i={x:this.x+this.width/2-k/2,y:this.y+this.height/2+d/2}:"Middle_Right"==j?i={x:this.x+this.width-k,y:this.y+this.height/2+d/2}:"Middle_Left"==j&&(i={x:this.x,y:this.y+this.height/2+d/2}),null!=this.textOffsetX&&(i.x+=this.textOffsetX),null!=this.textOffsetY&&(i.y+=this.textOffsetY),i},this.paintMouseover=function(){},this.paintSelected=function(d){d.shadowBlur=10,d.shadowColor="rgba(0,0,0,1)",d.shadowOffsetX=0,d.shadowOffsetY=0}}b.prototype=new a.InteractiveElement,a.Container=b}(JTopo),function(a){function b(w){var x=0,u=0;w.forEach(function(y){x+=y.cx,u+=y.cy});var v={x:x/w.length,y:u/w.length};return v}function c(G,H){null==H&&(H={});var I=H.cx,K=H.cy,M=H.minRadius,N=H.nodeDiameter,u=H.hScale||1,v=H.vScale||1;H.beginAngle||0,H.endAngle||2*Math.PI;if(null==I||null==K){var w=b(G);I=w.x,K=w.y}var x=0,y=[],z=[];G.forEach(function(O){null==H.nodeDiameter?(O.diameter&&(N=O.diameter),N=O.radius?2*O.radius:Math.sqrt(2*O.width*O.height),z.push(N)):z.push(N),x+=N}),G.forEach(function(P,Q){var O=z[Q]/x;y.push(Math.PI*O)});var A=(G.length,y[0]+y[1]),B=z[0]/2+z[1]/2,C=B/2/Math.sin(A/2);null!=M&&M>C&&(C=M);var D=C*u,E=C*v,F=H.animate;if(F){var J=F.time||1000,L=0;G.forEach(function(R,O){L+=0==O?y[O]:y[O-1]+y[O];var P=I+Math.cos(L)*D,Q=K+Math.sin(L)*E;a.Animate.stepByStep(R,{x:P-R.width/2,y:Q-R.height/2},J).start()})}else{var L=0;G.forEach(function(Q,R){L+=0==R?y[R]:y[R-1]+y[R];var O=I+Math.cos(L)*D,P=K+Math.sin(L)*E;Q.cx=O,Q.cy=P})}return{cx:I,cy:K,radius:D,radiusA:D,radiusB:E}}function e(u,v){return function(A){var B=A.childs;if(!(B.length<=0)){for(var C=A.getBound(),D=B[0],G=(C.width-D.width)/v,H=(C.height-D.height)/u,w=(B.length,0),x=0;u>x;x++){for(var y=0;v>y;y++){var z=B[w++],E=C.left+G/2+y*G,F=C.top+H/2+x*H;if(z.setLocation(E,F),w>=B.length){return}}}}}}function g(u,v){return null==u&&(u=0),null==v&&(v=0),function(C){var x=C.childs;if(!(x.length<=0)){for(var z=C.getBound(),A=z.left,B=z.top,w=0;w<x.length;w++){var y=x[w];A+y.width>=z.right&&(A=z.left,B+=v+y.height),y.setLocation(A,B),A+=u+y.width}}}}function i(){return function(C,D){if(D.length>0){for(var u=10000000,v=-10000000,w=10000000,x=-10000000,y=v-u,z=x-w,A=0;A<D.length;A++){var B=D[A];B.x<=u&&(u=B.x),B.x>=v&&(v=B.x),B.y<=w&&(w=B.y),B.y>=x&&(x=B.y),y=v-u+B.width,z=x-w+B.height}C.x=u,C.y=w,C.width=y,C.height=z}}}function k(u){var v=[],w=u.filter(function(x){return x instanceof a.Link?!0:(v.push(x),!1)});return u=v.filter(function(x){for(var y=0;y<w.length;y++){if(w[y].nodeZ===x){return !1}}return !0}),u=u.filter(function(x){for(var y=0;y<w.length;y++){if(w[y].nodeA===x){return !0}}return !1})}function m(v){var w=0,u=0;return v.forEach(function(x){w+=x.width,u+=x.height}),{width:w/v.length,height:u/v.length}}function o(y,z,u,v){z.x+=u,z.y+=v;for(var w=h(y,z),x=0;x<w.length;x++){o(y,w[x],u,v)}}function p(w,x){function u(y,z){var A=h(w,y);null==v[z]&&(v[z]={},v[z].nodes=[],v[z].childs=[]),v[z].nodes.push(y),v[z].childs.push(A);for(var B=0;B<A.length;B++){u(A[B],z+1),A[B].parent=y}}var v=[];return u(x,0),v}function q(u,v,w){return function(y){function z(ak,al){for(var am=a.layout.getTreeDeep(ak,al),an=p(ak,al),ao=an[""+am].nodes,ap=0;ap<ao.length;ap++){var aq=ao[ap],F=(ap+1)*(v+10),G=am*w;"down"==u||("up"==u?G=-G:"left"==u?(F=-am*w,G=(ap+1)*(v+10)):"right"==u&&(F=am*w,G=(ap+1)*(v+10))),aq.setLocation(F,G)}for(var H=am-1;H>=0;H--){for(var I=an[""+H].nodes,J=an[""+H].childs,ap=0;ap<I.length;ap++){var K=I[ap],L=J[ap];if("down"==u?K.y=H*w:"up"==u?K.y=-H*w:"left"==u?K.x=-H*w:"right"==u&&(K.x=H*w),L.length>0?"down"==u||"up"==u?K.x=(L[0].x+L[L.length-1].x)/2:("left"==u||"right"==u)&&(K.y=(L[0].y+L[L.length-1].y)/2):ap>0&&("down"==u||"up"==u?K.x=I[ap-1].x+I[ap-1].width+v:("left"==u||"right"==u)&&(K.y=I[ap-1].y+I[ap-1].height+v)),ap>0){if("down"==u||"up"==u){if(K.x<I[ap-1].x+I[ap-1].width){for(var M=I[ap-1].x+I[ap-1].width+v,N=Math.abs(M-K.x),ah=ap;ah<I.length;ah++){o(y.childs,I[ah],N,0)}}}else{if(("left"==u||"right"==u)&&K.y<I[ap-1].y+I[ap-1].height){for(var ai=I[ap-1].y+I[ap-1].height+v,aj=Math.abs(ai-K.y),ah=ap;ah<I.length;ah++){o(y.childs,I[ah],0,aj)}}}}}}}var A=null;null==v&&(A=m(y.childs),v=A.width,("left"==u||"right"==u)&&(v=A.width+10)),null==w&&(null==A&&(A=m(y.childs)),w=2*A.height),null==u&&(u="down");var D=a.layout.getRootNodes(y.childs);if(D.length>0){z(y.childs,D[0]);var E=a.util.getElementsBound(y.childs),x=y.getCenterLocation(),B=x.x-(E.left+E.right)/2,C=x.y-(E.top+E.bottom)/2;y.childs.forEach(function(F){F instanceof a.Node&&(F.x+=B,F.y+=C)})}}}function r(u){return function(A){function B(G,E,F){var C=h(G,E);if(0!=C.length){null==F&&(F=u);var D=2*Math.PI/C.length;C.forEach(function(L,H){var J=E.x+F*Math.cos(D*H),I=E.y+F*Math.sin(D*H);L.setLocation(J,I);var K=F/2;B(G,L,K)})}}var w=a.layout.getRootNodes(A.childs);if(w.length>0){B(A.childs,w[0]);var x=a.util.getElementsBound(A.childs),y=A.getCenterLocation(),z=y.x-(x.left+x.right)/2,v=y.y-(x.top+x.bottom)/2;A.childs.forEach(function(C){C instanceof a.Node&&(C.x+=z,C.y+=v)})}}}function s(u,v,w,x,y,z){for(var A=[],B=0;w>B;B++){for(var C=0;x>C;C++){A.push({x:u+C*y,y:v+B*z})}}return A}function t(y,z,A,B,C,D){var E=C?C:0,F=D?D:2*Math.PI,G=F-E,H=G/A,u=[];E+=H/2;for(var v=E;F>=v;v+=H){var w=y+Math.cos(v)*B,x=z+Math.sin(v)*B;u.push({x:w,y:x})}return u}function d(C,D,u,v,w,x){var y=x||"bottom",z=[];if("bottom"==y){for(var A=C-u/2*v+v/2,B=0;u>=B;B++){z.push({x:A+B*v,y:D+w})}}else{if("top"==y){for(var A=C-u/2*v+v/2,B=0;u>=B;B++){z.push({x:A+B*v,y:D-w})}}else{if("right"==y){for(var A=D-u/2*v+v/2,B=0;u>=B;B++){z.push({x:C+w,y:A+B*v})}}else{if("left"==y){for(var A=D-u/2*v+v/2,B=0;u>=B;B++){z.push({x:C-w,y:A+B*v})}}}}}return z}function s(u,v,w,x,y,z){for(var A=[],B=0;w>B;B++){for(var C=0;x>C;C++){A.push({x:u+C*y,y:v+B*z})}}return A}function f(C,D){if(C.layout){var u=C.layout,v=u.type,w=null;if("circle"==v){var x=u.radius||Math.max(C.width,C.height);w=t(C.cx,C.cy,D.length,x,C.layout.beginAngle,C.layout.endAngle)}else{if("tree"==v){var y=u.width||50,z=u.height||50,A=u.direction;w=d(C.cx,C.cy,D.length,y,z,A)}else{if("grid"!=v){return}w=s(C.x,C.y,u.rows,u.cols,u.horizontal||0,u.vertical||0)}}for(var B=0;B<D.length;B++){D[B].setCenterLocation(w[B].x,w[B].y)}}}function h(u,v){for(var w=[],x=0;x<u.length;x++){u[x] instanceof a.Link&&u[x].nodeA===v&&w.push(u[x].nodeZ)}return w}function j(x,y,u){var v=h(x.childs,y);if(0==v.length){return null}if(f(y,v),1==u){for(var w=0;w<v.length;w++){j(x,v[w],u)}}return null}function l(A,B){function D(H,I){var F=H.x-I.x,G=H.y-I.y;x+=F*u,y+=G*u,x*=v,y*=v,y+=w,I.x+=x,I.y+=y}function E(){if(!(++z>150)){for(var F=0;F<C.length;F++){C[F]!=A&&D(A,C[F],C)}setTimeout(E,1000/24)}}var u=0.01,v=0.95,w=-5,x=0,y=0,z=0,C=B.getElementsByClass(a.Node);E()}function n(w,x){function u(B,C,y){var z=h(B,C);y>v&&(v=y);for(var A=0;A<z.length;A++){u(B,z[A],y+1)}}var v=0;return u(w,x,0),v}a.layout=a.Layout={layoutNode:j,getNodeChilds:h,adjustPosition:f,springLayout:l,getTreeDeep:n,getRootNodes:k,GridLayout:e,FlowLayout:g,AutoBoundLayout:i,CircleLayout:r,TreeLayout:q,getNodesCenter:b,circleLayoutNodes:c}}(JTopo),function(b){function c(){var d=new b.CircleNode;return d.radius=150,d.colors=["#3666B0","#2CA8E0","#77D1F6"],d.datas=[0.3,0.3,0.4],d.titles=["A","B","C"],d.paint=function(l){var w=2*d.radius,x=2*d.radius;d.width=w,d.height=x;for(var y=0,e=0;e<this.datas.length;e++){var f=this.datas[e]*Math.PI*2;l.save(),l.beginPath(),l.fillStyle=d.colors[e],l.moveTo(0,0),l.arc(0,0,this.radius,y,y+f,!1),l.fill(),l.closePath(),l.restore(),l.beginPath(),l.font=this.font;var g=this.titles[e]+": "+(100*this.datas[e]).toFixed(2)+"%",h=l.measureText(g).width,i=(l.measureText("田").width,(y+y+f)/2),j=this.radius*Math.cos(i),k=this.radius*Math.sin(i);i>Math.PI/2&&i<=Math.PI?j-=h:i>Math.PI&&i<2*Math.PI*3/4?j-=h:i>2*Math.PI*0.75,l.fillStyle="#FFFFFF",l.fillText(g,j,k),l.moveTo(this.radius*Math.cos(i),this.radius*Math.sin(i)),i>Math.PI/2&&i<2*Math.PI*3/4&&(j-=h),i>Math.PI,l.fill(),l.stroke(),l.closePath(),y+=f}},d}function a(){var d=new b.Node;return d.showSelected=!1,d.width=250,d.height=180,d.colors=["#3666B0","#2CA8E0","#77D1F6"],d.datas=[0.3,0.3,0.4],d.titles=["A","B","C"],d.paint=function(v){var w=3,e=(this.width-w)/this.datas.length;v.save(),v.beginPath(),v.fillStyle="#FFFFFF",v.strokeStyle="#FFFFFF",v.moveTo(-this.width/2-1,-this.height/2),v.lineTo(-this.width/2-1,this.height/2+3),v.lineTo(this.width/2+w+1,this.height/2+3),v.stroke(),v.closePath(),v.restore();for(var f=0;f<this.datas.length;f++){v.save(),v.beginPath(),v.fillStyle=d.colors[f];var g=this.datas[f],h=f*(e+w)-this.width/2,i=this.height-g-this.height/2;v.fillRect(h,i,e,g);var j=""+parseInt(this.datas[f]),k=v.measureText(j).width,u=v.measureText("田").width;v.fillStyle="#FFFFFF",v.fillText(j,h+(e-k)/2,i-u),v.fillText(this.titles[f],h+(e-k)/2,this.height/2+u),v.fill(),v.closePath(),v.restore()}},d}b.BarChartNode=a,b.PieChartNode=c}(JTopo),function(b){function d(p,q){var r,s=null;return{stop:function(){return r?(window.clearInterval(r),s&&s.publish("stop"),this):this},start:function(){var t=this;return r=setInterval(function(){p.call(t)},q),this},onStop:function(t){return null==s&&(s=new b.util.MessageBus),s.subscribe("stop",t),this}}}function f(q,u){u=u||{};var v=u.gravity||0.1,w=u.dx||0,p=u.dy||5,r=u.stop,s=u.interval||30,t=new d(function(){r&&r()?(p=0.5,this.stop()):(p+=v,q.setLocation(q.x+w,q.y+p))},s);return t}function g(t,u,v,w,x){var y=1000/24,z={};for(var p in u){var q=u[p],r=q-t[p];z[p]={oldValue:t[p],targetValue:q,step:r/v*y,isDone:function(A){var B=this.step>0&&t[A]>=this.targetValue||this.step<0&&t[A]<=this.targetValue;return B}}}var s=new d(function(){var A=!0;for(var B in u){z[B].isDone(B)||(t[B]+=z[B].step,A=!1)}if(A){if(!w){return this.stop()}for(var B in u){if(x){var C=z[B].targetValue;z[B].targetValue=z[B].oldValue,z[B].oldValue=C,z[B].step=-z[B].step}else{t[B]=z[B].oldValue}}}return this},y);return s}function h(s){null==s&&(s={});var t=s.spring||0.1,p=s.friction||0.8,q=s.grivity||0,r=(s.wind||0,s.minLength||0);return{items:[],timer:null,isPause:!1,addNode:function(v,w){var u={node:v,target:w,vx:0,vy:0};return this.items.push(u),this},play:function(u){this.stop(),u=null==u?1000/24:u;var v=this;this.timer=setInterval(function(){v.nextFrame()},u)},stop:function(){null!=this.timer&&window.clearInterval(this.timer)},nextFrame:function(){for(var y=0;y<this.items.length;y++){var z=this.items[y],A=z.node,B=z.target,C=z.vx,D=z.vy,L=B.x-A.x,u=B.y-A.y,v=Math.atan2(u,L);if(0!=r){var w=B.x-Math.cos(v)*r,x=B.y-Math.sin(v)*r;C+=(w-A.x)*t,D+=(x-A.y)*t}else{C+=L*t,D+=u*t}C*=p,D*=p,D+=q,A.x+=C,A.y+=D,z.vx=C,z.vy=D}}}}function i(t,u){function v(){return q=setInterval(function(){return e?void r.stop():(t.rotate+=s||0.2,void (t.rotate>2*Math.PI&&(t.rotate=0)))},100),r}function p(){return window.clearInterval(q),r.onStop&&r.onStop(t),r}var q=(u.context,null),r={},s=u.v;return r.run=v,r.stop=p,r.onStop=function(w){return r.onStop=w,r},r}function j(s,t){function u(){return window.clearInterval(q),r.onStop&&r.onStop(s),r}function v(){var x=t.dx||0,y=t.dy||2;return q=setInterval(function(){return e?void r.stop():(y+=p,void (s.y+s.height<w.stage.canvas.height?s.setLocation(s.x+x,s.y+y):(y=0,u())))},20),r}var w=t.context,p=t.gravity||0.1,q=null,r={};return r.run=v,r.stop=u,r.onStop=function(x){return r.onStop=x,r},r}function k(r,u){function v(y,A,B,C,z){var x=new b.Node;return x.setImage(r.image),x.setSize(r.width,r.height),x.setLocation(y,A),x.showSelected=!1,x.dragable=!1,x.paint=function(D){D.save(),D.arc(0,0,B,C,z),D.clip(),D.beginPath(),null!=this.image?D.drawImage(this.image,-this.width/2,-this.height/2):(D.fillStyle="rgba("+this.style.fillStyle+","+this.alpha+")",D.rect(-this.width/2,-this.height/2,this.width/2,this.height/2),D.fill()),D.closePath(),D.restore()},x}function w(z,A){var B=z,y=z+Math.PI,C=v(r.x,r.y,r.width,B,y),x=v(r.x-2+4*Math.random(),r.y,r.width,B+Math.PI,B);r.visible=!1,A.add(C),A.add(x),b.Animate.gravity(C,{context:A,dx:0.3}).run().onStop(function(){A.remove(C),A.remove(x),t.stop()}),b.Animate.gravity(x,{context:A,dx:-0.2}).run()}function p(){return w(u.angle,s),t}function q(){return t.onStop&&t.onStop(r),t}var s=u.context,t=(r.style,{});return t.onStop=function(x){return t.onStop=x,t},t.run=p,t.stop=q,t}function l(v,w){function x(y){y.visible=!0,y.rotate=Math.random();var z=s.stage.canvas.width/2;y.x=z+Math.random()*(z-100)-Math.random()*(z-100),y.y=s.stage.canvas.height,y.vx=5*Math.random()-5*Math.random(),y.vy=-25}function p(){return x(v),t=setInterval(function(){return e?void u.stop():(v.vy+=r,v.x+=v.vx,v.y+=v.vy,void ((v.x<0||v.x>s.stage.canvas.width||v.y>s.stage.canvas.height)&&(u.onStop&&u.onStop(v),x(v))))},50),u}function q(){window.clearInterval(t)}var r=0.8,s=w.context,t=null,u={};return u.onStop=function(y){return u.onStop=y,u},u.run=p,u.stop=q,u}function m(){e=!0}function n(){e=!1}function o(q,r){function s(){return v=setInterval(function(){if(e){return void p.stop()}var C=u.y+x+Math.sin(A)*z;q.setLocation(q.x,C),A+=B},100),p}function t(){window.clearInterval(v)}var u=r.p1,w=r.p2,x=(r.context,u.x+(w.x-u.x)/2),y=u.y+(w.y-u.y)/2,z=b.util.getDistance(u,w)/2,A=Math.atan2(y,x),B=r.speed||0.2,p={},v=null;return p.run=s,p.stop=t,p}function a(s,t){function u(){return r=setInterval(function(){if(e){return void q.stop()}var x=w.x-s.x,y=w.y-s.y,z=x*p,A=y*p;s.x+=z,s.y+=A,0.01>z&&0.1>A&&v()},100),q}function v(){window.clearInterval(r)}var w=t.position,p=(t.context,t.easing||0.2),q={},r=null;return q.onStop=function(x){return q.onStop=x,q},q.run=u,q.stop=v,q}function c(u,v){function w(){return t=setInterval(function(){u.scaleX+=p,u.scaleY+=p,u.scaleX>=y&&x()},100),s}function x(){s.onStop&&s.onStop(u),u.scaleX=q,u.scaleY=r,window.clearInterval(t)}var y=(v.position,v.context,v.scale||1),p=0.06,q=u.scaleX,r=u.scaleY,s={},t=null;return s.onStop=function(z){return s.onStop=z,s},s.run=w,s.stop=x,s}b.Animate={},b.Effect={};var e=!1;b.Effect.spring=h,b.Effect.gravity=f,b.Animate.stepByStep=g,b.Animate.rotate=i,b.Animate.scale=c,b.Animate.move=a,b.Animate.cycle=o,b.Animate.repeatThrow=l,b.Animate.dividedTwoPiece=k,b.Animate.gravity=j,b.Animate.startAll=n,b.Animate.stopAll=m}(JTopo),function(d){function e(x,y){var f=[];if(0==x.length){return f}var g=y.match(/^\s*(\w+)\s*$/);if(null!=g){var h=x.filter(function(k){return k.elementType==g[1]});null!=h&&h.length>0&&(f=f.concat(h))}else{var i=!1;if(g=y.match(/\s*(\w+)\s*\[\s*(\w+)\s*([>=<])\s*['"](\S+)['"]\s*\]\s*/),(null==g||g.length<5)&&(g=y.match(/\s*(\w+)\s*\[\s*(\w+)\s*([>=<])\s*(\d+(\.\d+)?)\s*\]\s*/),i=!0),null!=g&&g.length>=5){var j=g[1],u=g[2],v=g[3],w=g[4];h=x.filter(function(k){if(k.elementType!=j){return !1}var l=k[u];return 1==i&&(l=parseInt(l)),"="==v?l==w:">"==v?l>w:"<"==v?w>l:"<="==v?w>=l:">="==v?l>=w:"!="==v?l!=w:!1}),null!=h&&h.length>0&&(f=f.concat(h))}}return f}function a(h){if(h.find=function(j){return b.call(this,j)},c.forEach(function(j){h[j]=function(l){for(var k=0;k<this.length;k++){this[k][j](l)}return this}}),h.length>0){var i=h[0];for(var f in i){var g=i[f];"function"==typeof g&&!function(j){h[f]=function(){for(var l=[],k=0;k<h.length;k++){l.push(j.apply(h[k],arguments))}return l}}(g)}}return h.attr=function(s,j){if(null!=s&&null!=j){for(var k=0;k<this.length;k++){this[k][s]=j}}else{if(null!=s&&"string"==typeof s){for(var l=[],k=0;k<this.length;k++){l.push(this[k][s])}return l}if(null!=s){for(var k=0;k<this.length;k++){for(var r in s){this[k][r]=s[r]}}}}return this},h}function b(h){var i=[],f=[];this instanceof d.Stage?(i=this.childs,f=f.concat(i)):this instanceof d.Scene?i=[this]:f=this,i.forEach(function(j){f=f.concat(j.childs)});var g=null;return g="function"==typeof h?f.filter(h):e(f,h),g=a(g)}var c="click,mousedown,mouseup,mouseover,mouseout,mousedrag,keydown,keyup".split(",");d.Stage.prototype.find=b,d.Scene.prototype.find=b}(JTopo),function(i){function j(k,l){this.x=k,this.y=l}function a(k){this.p=new j(0,0),this.w=new j(1,0),this.paint=k}function b(l,m,k){return function(n){for(var o=0;m>o;o++){l(),k&&n.turn(k),n.move(3)}}}function c(l,m){var k=2*Math.PI;return function(n){for(var o=0;m>o;o++){l(),n.turn(k/m)}}}function d(l,m,k){return function(n){for(var o=0;m>o;o++){l(),n.resize(k)}}}function e(k){var l=2*Math.PI;return function(m){for(var n=0;k>n;n++){m.forward(1),m.turn(l/k)}}}function f(k){var l=4*Math.PI;return function(m){for(var n=0;k>n;n++){m.forward(1),m.turn(l/k)}}}function g(m,n,k,l){return function(o){for(var p=0;n>p;p++){m(),o.forward(1),o.turn(k),o.resize(l)}}}var h={};a.prototype.forward=function(l){var m=this.p,k=this.w;return m.x=m.x+l*k.x,m.y=m.y+l*k.y,this.paint&&this.paint(m.x,m.y),this},a.prototype.move=function(l){var m=this.p,k=this.w;return m.x=m.x+l*k.x,m.y=m.y+l*k.y,this},a.prototype.moveTo=function(k,l){return this.p.x=k,this.p.y=l,this},a.prototype.turn=function(m){var n=(this.p,this.w),k=Math.cos(m)*n.x-Math.sin(m)*n.y,l=Math.sin(m)*n.x+Math.cos(m)*n.y;return n.x=k,n.y=l,this},a.prototype.resize=function(k){var l=this.w;return l.x=l.x*k,l.y=l.y*k,this},a.prototype.save=function(){return null==this._stack&&(this._stack=[]),this._stack.push([this.p,this.w]),this},a.prototype.restore=function(){if(null!=this._stack&&this._stack.length>0){var k=this._stack.pop();this.p=k[0],this.w=k[1]}return this},h.Tortoise=a,h.shift=b,h.spin=c,h.polygon=e,h.spiral=g,h.star=f,h.scale=d,i.Logo=h}(window);if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a()}}(function(b,a,e,c){var d={init:function(f,g){var h=this;h.elem=g;h.$elem=b(g);h.options=b.extend({},b.fn.toolbar.options,f);h.toolbar=b('<div class="tool-container gradient" />').addClass("tool-"+h.options.position).addClass("tool-rounded").append('<div class="tool-items" />').append('<div class="arrow" />').appendTo("body").css("opacity",0).hide();h.toolbar_arrow=h.toolbar.find(".arrow");h.initializeToolbar()},initializeToolbar:function(){var f=this;f.populateContent();f.setTrigger();f.toolbarWidth=f.toolbar.width()},setTrigger:function(){var h=this;h.$elem.on("click",function(i){i.preventDefault();if(h.$elem.hasClass("pressed")){h.hide()}else{h.show()}});if(h.options.hideOnClick){b("html").on("click.toolbar",function(i){if(i.target!=h.elem&&h.$elem.has(i.target).length===0&&h.toolbar.has(i.target).length===0&&h.toolbar.is(":visible")){h.hide()}})}if(h.options.hover){var g;function f(){if(h.$elem.hasClass("pressed")){g=setTimeout(function(){h.hide()},150)}else{clearTimeout(g)}}h.$elem.on({mouseenter:function(i){if(h.$elem.hasClass("pressed")){clearTimeout(g)}else{h.show()}}});h.$elem.parent().on({mouseleave:function(i){f()}});b(".tool-container").on({mouseenter:function(i){clearTimeout(g)},mouseleave:function(i){f()}})}b(a).resize(function(i){i.stopPropagation();if(h.toolbar.is(":visible")){h.toolbarCss=h.getCoordinates(h.options.position,20);h.collisionDetection();h.toolbar.css(h.toolbarCss);h.toolbar_arrow.css(h.arrowCss)}})},populateContent:function(){var f=this;var h=f.toolbar.find(".tool-items");var g=b(f.options.content).clone(true).find("a").addClass("tool-item gradient");h.html(g);h.find(".tool-item").on("click",function(i){i.preventDefault();f.$elem.trigger("toolbarItemClick",this)})},calculatePosition:function(){var f=this;f.arrowCss={};f.toolbarCss=f.getCoordinates(f.options.position,0);f.toolbarCss.position="absolute";f.toolbarCss.zIndex=f.options.zIndex;f.collisionDetection();f.toolbar.css(f.toolbarCss);f.toolbar_arrow.css(f.arrowCss)},getCoordinates:function(h,g){var f=this;f.coordinates=f.$elem.offset();if(f.options.adjustment&&f.options.adjustment[f.options.position]){g=f.options.adjustment[f.options.position]+g}switch(f.options.position){case"top":return{left:f.coordinates.left-(f.toolbar.width()/2)+(f.$elem.outerWidth()/2),top:f.coordinates.top-f.$elem.height()-g,right:"auto"};case"left":return{left:f.coordinates.left-(f.toolbar.width()/2)-(f.$elem.width()/2)-g,top:f.coordinates.top-(f.toolbar.height()/2)+(f.$elem.outerHeight()/2),right:"auto"};case"right":return{left:f.coordinates.left+(f.toolbar.width()/2)+(f.$elem.width()/3)+g,top:f.coordinates.top-(f.toolbar.height()/2)+(f.$elem.outerHeight()/2),right:"auto"};case"bottom":return{left:f.coordinates.left-(f.toolbar.width()/2)+(f.$elem.outerWidth()/2),top:f.coordinates.top+f.$elem.height()+g,right:"auto"}}},collisionDetection:function(){var g=this;var f=20;if(g.options.position=="top"||g.options.position=="bottom"){g.arrowCss={left:"50%",right:"50%"};if(g.toolbarCss.left<f){g.toolbarCss.left=f;g.arrowCss.left=g.$elem.offset().left+g.$elem.width()/2-(f)}else{if((b(a).width()-(g.toolbarCss.left+g.toolbarWidth))<f){g.toolbarCss.right=f;g.toolbarCss.left="auto";g.arrowCss.left="auto";g.arrowCss.right=(b(a).width()-g.$elem.offset().left)-(g.$elem.width()/2)-(f)-5}}}},show:function(){var f=this;var g={opacity:1};f.$elem.addClass("pressed");f.calculatePosition();switch(f.options.position){case"top":g.top="-=20";break;case"left":g.left="-=20";break;case"right":g.left="+=20";break;case"bottom":g.top="+=20";break}f.toolbar.show().animate(g,200);f.$elem.trigger("toolbarShown")},hide:function(){var f=this;var g={opacity:0};f.$elem.removeClass("pressed");switch(f.options.position){case"top":g.top="+=20";break;case"left":g.left="+=20";break;case"right":g.left="-=20";break;case"bottom":g.top="-=20";break}f.toolbar.animate(g,200,function(){f.toolbar.hide()});f.$elem.trigger("toolbarHidden")},getToolbarElement:function(){return this.toolbar.find(".tool-items")}};b.fn.toolbar=function(f){if(b.isPlainObject(f)){return this.each(function(){var i=Object.create(d);i.init(f,this);b(this).data("toolbarObj",i)})}else{if(typeof f==="string"&&f.indexOf("_")!==0){var h=b(this).data("toolbarObj");var g=h[f];return g.apply(h,b.makeArray(arguments).slice(1))}}};b.fn.toolbar.options={content:"#myContent",position:"top",hideOnClick:false,zIndex:120,hover:false}})(jQuery,window,document);(function(a){window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){console.log(Array.prototype.slice.call(arguments))}};a.fn.snippet=function(e,c){if(typeof e=="object"){c=e}if(typeof e=="string"){e=e.toLowerCase()}var d={style:"random",showNum:true,transparent:false,collapse:false,menu:true,showMsg:"Expand Code",hideMsg:"Collapse Code",clipboard:"",startCollapsed:true,startText:false,box:"",boxColor:"",boxFill:""};var b=["acid","berries-dark","berries-light","bipolar","blacknblue","bright","contrast","darkblue","darkness","desert","dull","easter","emacs","golden","greenlcd","ide-anjuta","ide-codewarrior","ide-devcpp","ide-eclipse","ide-kdev","ide-msvcpp","kwrite","matlab","navy","nedit","neon","night","pablo","peachpuff","print","rand01","the","typical","vampire","vim","vim-dark","whatis","whitengrey","zellner"];if(c){a.extend(d,c)}return this.each(function(){var y=d.style.toLowerCase();if(d.style=="random"){var q=Math.floor(Math.random()*(b.length));y=b[q]}var t=a(this);var E=this.nodeName.toLowerCase();if(E=="pre"){if(t.data("orgHtml")==undefined||t.data("orgHtml")==null){var C=t.html();t.data("orgHtml",C)}if(!t.parent().hasClass("snippet-wrap")){if(typeof e!="string"){if(t.attr("class").length>0){var s=' class="'+t.attr("class")+'"'}else{var s=""}if(t.attr("id").length>0){var B=' id="'+t.attr("id")+'"'}else{var B=""}var h="Snippet Error: You must specify a language on inital usage of Snippet. Reference <pre"+s+B+">";console.log(h);return false}t.addClass("sh_"+e).addClass("snippet-formatted").wrap("<div class='snippet-container' style='"+t.attr("style")+";'><div class='sh_"+y+" snippet-wrap'></div></div>");t.removeAttr("style");sh_highlightDocument();if(d.showNum){var w=t.html();w=w.replace(/\n/g,"</li><li>");w="<ol class='snippet-num'><li>"+w+"</li></ol>";while(w.indexOf("<li></li></ol>")!=-1){w=w.replace("<li></li></ol>","</ol>")}}else{var w=t.html();w=w.replace(/\n/g,"</li><li>");w="<ul class='snippet-no-num'><li>"+w+"</li></ul>";while(w.indexOf("<li></li></ul>")!=-1){w=w.replace("<li></li></ul>","</ul>")}}w=w.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");t.html(w);while(t.find("li").eq(0).html()==""){t.find("li").eq(0).remove()}t.find("li").each(function(){if(a(this).html().length<2){var i=(a(this).html()).replace(/\s/g,"");if(i==""){if(a.browser.opera){a(this).html("&nbsp;")}else{a(this).html("<span style='display:none;'>&nbsp;</span>")}}}});var z="<pre class='snippet-textonly sh_sourceCode' style='display:none;'>"+t.data("orgHtml")+"</pre>";var m="<div class='snippet-menu sh_sourceCode' style='display:none;'><pre><a class='snippet-copy' href='#'>copy</a><a class='snippet-text' href='#'>text</a><a class='snippet-window' href='#'>pop-up</a></pre></div>";t.parent().append(z);t.parent().prepend(m);t.parent().hover(function(){a(this).find(".snippet-menu").fadeIn("fast")},function(){a(this).find(".snippet-menu").fadeOut("fast")});if(d.clipboard!=""&&d.clipboard!=false){var H=t.parent().find("a.snippet-copy");H.show();H.parents(".snippet-menu").show();var p=t.parents(".snippet-wrap").find(".snippet-textonly").text();ZeroClipboard.setMoviePath(d.clipboard);var v=new ZeroClipboard.Client();v.setText(p);v.glue(H[0],H.parents(".snippet-menu")[0]);v.addEventListener("complete",function(o,i){if(i.length>500){i=i.substr(0,500)+"...\n\n("+(i.length-500)+" characters not shown)"}alert("Copied text to clipboard:\n\n "+i)});H.parents(".snippet-menu").hide()}else{t.parent().find("a.snippet-copy").hide()}t.parent().find("a.snippet-text").click(function(){var i=a(this).parents(".snippet-wrap").find(".snippet-formatted");var o=a(this).parents(".snippet-wrap").find(".snippet-textonly");i.toggle();o.toggle();if(o.is(":visible")){a(this).html("html")}else{a(this).html("text")}a(this).blur();return false});t.parent().find("a.snippet-window").click(function(){var i=a(this).parents(".snippet-wrap").find(".snippet-textonly").html();snippetPopup(i);a(this).blur();return false});if(!d.menu){t.prev(".snippet-menu").find("pre,.snippet-clipboard").hide()}if(d.collapse){var g=t.parent().attr("class");var G="<div class='snippet-reveal "+g+"'><pre class='sh_sourceCode'><a href='#' class='snippet-toggle'>"+d.showMsg+"</a></pre></div>";var r="<div class='sh_sourceCode snippet-hide'><pre><a href='#' class='snippet-revealed snippet-toggle'>"+d.hideMsg+"</a></pre></div>";t.parents(".snippet-container").append(G);t.parent().append(r);var F=t.parents(".snippet-container");if(d.startCollapsed){F.find(".snippet-reveal").show();F.find(".snippet-wrap").eq(0).hide()}else{F.find(".snippet-reveal").hide();F.find(".snippet-wrap").eq(0).show()}F.find("a.snippet-toggle").click(function(){F.find(".snippet-wrap").toggle();return false})}if(d.transparent){var I={"background-color":"transparent","box-shadow":"none","-moz-box-shadow":"none","-webkit-box-shadow":"none"};t.css(I);t.next(".snippet-textonly").css(I);t.parents(".snippet-container").find(".snippet-reveal pre").css(I)}if(d.startText){t.hide();t.next(".snippet-textonly").show();t.parent().find(".snippet-text").html("html")}if(d.box!=""){var f="<span class='box-sp'>&nbsp;</span>";var n=d.box.split(",");for(var k=0;k<n.length;k++){var A=n[k];if(A.indexOf("-")==-1){A=parseFloat(A)-1;t.find("li").eq(A).addClass("box").prepend(f)}else{var D=parseFloat(A.split("-")[0])-1;var J=parseFloat(A.split("-")[1])-1;if(D<J){t.find("li").eq(D).addClass("box box-top").prepend(f);t.find("li").eq(J).addClass("box box-bot").prepend(f);for(var j=D+1;j<J;j++){t.find("li").eq(j).addClass("box box-mid").prepend(f)}}else{if(D==J){t.find("li").eq(D).addClass("box").prepend(f)}}}}if(d.boxColor!=""){t.find("li.box").css("border-color",d.boxColor)}if(d.boxFill!=""){t.find("li.box, li.box-top, li.box-mid, li.box-bot").addClass("box-bg").css("background-color",d.boxFill)}if(a.browser.webkit){t.find(".snippet-num li.box").css("margin-left","-3.3em");t.find(".snippet-num li .box-sp").css("width","21px")}}t.parents(".snippet-container").find("a").addClass("sh_url")}else{t.parent().attr("class","sh_"+y+" snippet-wrap");t.parents(".snippet-container").find(".snippet-reveal").attr("class","sh_"+y+" snippet-wrap snippet-reveal");t.find("li.box, li.box-top, li.box-mid, li.box-bot").removeAttr("style").removeAttr("class");t.find("li .box-sp").remove();if(d.transparent){var I={"background-color":"transparent","box-shadow":"none","-moz-box-shadow":"none","-webkit-box-shadow":"none"};t.css(I);t.next(".snippet-textonly").css(I);t.parents(".snippet-container").find(".snippet-hide pre").css(I)}else{var I={"background-color":"","box-shadow":"","-moz-box-shadow":"","-webkit-box-shadow":""};t.css(I);t.next(".snippet-textonly").css(I);t.parents(".snippet-container").find(".snippet-reveal pre").css(I)}if(d.showNum){var u=t.find("li").eq(0).parent();if(u.hasClass("snippet-no-num")){u.wrap("<ol class='snippet-num'></ol>");var l=t.find("li").eq(0);l.unwrap()}}else{var u=t.find("li").eq(0).parent();if(u.hasClass("snippet-num")){u.wrap("<ul class='snippet-no-num'></ul>");var l=t.find("li").eq(0);l.unwrap()}}if(d.box!=""){var f="<span class='box-sp'>&nbsp;</span>";var n=d.box.split(",");for(var k=0;k<n.length;k++){var A=n[k];if(A.indexOf("-")==-1){A=parseFloat(A)-1;t.find("li").eq(A).addClass("box").prepend(f)}else{var D=parseFloat(A.split("-")[0])-1;var J=parseFloat(A.split("-")[1])-1;if(D<J){t.find("li").eq(D).addClass("box box-top").prepend(f);t.find("li").eq(J).addClass("box box-bot").prepend(f);for(var j=D+1;j<J;j++){t.find("li").eq(j).addClass("box box-mid").prepend(f)}}else{if(D==J){t.find("li").eq(D).addClass("box").prepend(f)}}}}if(d.boxColor!=""){t.find("li.box").css("border-color",d.boxColor)}if(d.boxFill!=""){t.find("li.box").addClass("box-bg").css("background-color",d.boxFill)}if(a.browser.webkit){t.find(".snippet-num li.box").css("margin-left","-3.3em");t.find(".snippet-num li .box-sp").css("width","21px")}}sh_highlightDocument();if(!d.menu){t.prev(".snippet-menu").find("pre,.snippet-clipboard").hide()}else{t.prev(".snippet-menu").find("pre,.snippet-clipboard").show()}}}else{var h="Snippet Error: Sorry, Snippet only formats '<pre>' elements. '<"+E+">' elements are currently unsupported.";console.log(h);return false}})}})(jQuery);function snippetPopup(a){top.consoleRef=window.open("","myconsole","width=600,height=300,left=50,top=50,menubar=0,toolbar=0,location=0,status=0,scrollbars=1,resizable=1");top.consoleRef.document.writeln("<html><head><title>Snippet :: Code View :: "+location.href+'</title></head><body bgcolor=white onLoad="self.focus()"><pre>'+a+"</pre></body></html>");top.consoleRef.document.close()}var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(a){if(typeof(a)=="string"){a=document.getElementById(a)}if(!a.addClass){a.hide=function(){this.style.display="none"};a.show=function(){this.style.display=""};a.addClass=function(b){this.removeClass(b);this.className+=" "+b};a.removeClass=function(d){var e=this.className.split(/\s+/);var b=-1;for(var c=0;c<e.length;c++){if(e[c]==d){b=c;c=e.length}}if(b>-1){e.splice(b,1);this.className=e.join(" ")}return this};a.hasClass=function(b){return !!this.className.match(new RegExp("\\s*"+b+"\\s*"))}}return a},setMoviePath:function(a){this.moviePath=a},dispatch:function(b,d,a){var c=this.clients[b];if(c){c.receiveEvent(d,a)}},register:function(b,a){this.clients[b]=a},getDOMObjectPosition:function(a,b){var c={left:0,top:0,width:a.width?a.width:a.offsetWidth,height:a.height?a.height:a.offsetHeight};while(a&&(a!=b)){c.left+=a.offsetLeft;c.top+=a.offsetTop;a=a.offsetParent}return c},Client:function(a){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId="ZeroClipboardMovie_"+this.id;ZeroClipboard.register(this.id,this);if(a){this.glue(a)}}};ZeroClipboard.Client.prototype={id:0,ready:false,movie:null,clipText:"",handCursorEnabled:true,cssEffects:true,handlers:null,glue:function(b,f,c){this.domElement=ZeroClipboard.$(b);var d=99;if(this.domElement.style.zIndex){d=parseInt(this.domElement.style.zIndex,10)+1}if(typeof(f)=="string"){f=ZeroClipboard.$(f)}else{if(typeof(f)=="undefined"){f=document.getElementsByTagName("body")[0]}}var a=ZeroClipboard.getDOMObjectPosition(this.domElement,f);this.div=document.createElement("div");this.div.className="snippet-clipboard";var e=this.div.style;e.position="absolute";e.left=""+a.left+"px";e.top=""+a.top+"px";e.width=""+a.width+"px";e.height=""+a.height+"px";e.zIndex=d;if(typeof(c)=="object"){for(addedStyle in c){e[addedStyle]=c[addedStyle]}}f.appendChild(this.div);this.div.innerHTML=this.getHTML(a.width,a.height)},getHTML:function(b,d){var a="";var e="id="+this.id+"&width="+b+"&height="+d;if(navigator.userAgent.match(/MSIE/)){var c=location.href.match(/^https/i)?"https://":"http://";a+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+c+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+b+'" height="'+d+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+e+'"/><param name="wmode" value="transparent"/></object>'}else{a+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+b+'" height="'+d+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+e+'" wmode="transparent" />'}return a},hide:function(){if(this.div){this.div.style.left="-2000px"}},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML="";var a=document.getElementsByTagName("body")[0];try{a.removeChild(this.div)}catch(b){}this.domElement=null;this.div=null}},reposition:function(a){if(a){this.domElement=ZeroClipboard.$(a);if(!this.domElement){this.hide()}}if(this.domElement&&this.div){var c=ZeroClipboard.getDOMObjectPosition(this.domElement);var b=this.div.style;b.left=""+c.left+"px";b.top=""+c.top+"px"}},setText:function(a){this.clipText=a;if(this.ready){this.movie.setText(a)}},addEventListener:function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");if(!this.handlers[a]){this.handlers[a]=[]}this.handlers[a].push(b)},setHandCursor:function(a){this.handCursorEnabled=a;if(this.ready){this.movie.setHandCursor(a)}},setCSSEffects:function(a){this.cssEffects=!!a},receiveEvent:function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");switch(a){case"load":this.movie=document.getElementById(this.movieId);if(!this.movie){var h=this;setTimeout(function(){h.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var h=this;setTimeout(function(){h.receiveEvent("load",null)},100);this.ready=true;return}this.ready=true;try{this.movie.setText(this.clipText)}catch(d){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(d){}break;case"mouseover":if(this.domElement&&this.cssEffects){this.domElement.addClass("hover");if(this.recoverActive){this.domElement.addClass("active")}}break;case"mouseout":if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass("active")){this.domElement.removeClass("active");this.recoverActive=true}this.domElement.removeClass("hover")}break;case"mousedown":if(this.domElement&&this.cssEffects){this.domElement.addClass("active")}break;case"mouseup":if(this.domElement&&this.cssEffects){this.domElement.removeClass("active");this.recoverActive=false}break}if(this.handlers[a]){for(var g=0,f=this.handlers[a].length;g<f;g++){var c=this.handlers[a][g];if(typeof(c)=="function"){c(this,b)}else{if((typeof(c)=="object")&&(c.length==2)){c[0][c[1]](this,b)}else{if(typeof(c)=="string"){window[c](this,b)}}}}}}};if(!this.sh_languages){this.sh_languages={}}var sh_requests={};function sh_isEmailAddress(b){if(/^mailto:/.test(b)){return false}return b.indexOf("@")!==-1}function sh_setHref(g,f,e){var h=e.substring(g[f-2].pos,g[f-1].pos);if(h.length>=2&&h.charAt(0)==="<"&&h.charAt(h.length-1)===">"){h=h.substr(1,h.length-2)}if(sh_isEmailAddress(h)){h="mailto:"+h}g[f-2].node.href=h}function sh_konquerorExec(c){var d=[""];d.index=c.length;d.input=c;return d}function sh_highlightString(ar,W){if(/Konqueror/.test(navigator.userAgent)){if(!W.konquered){for(var an=0;an<W.length;an++){for(var aj=0;aj<W[an].length;aj++){var al=W[an][aj][0];if(al.source==="$"){al.exec=sh_konquerorExec}}}W.konquered=true}}var i=document.createElement("a");var V=document.createElement("span");var at=[];var ab=0;var X=[];var aq=0;var aa=null;var Q=function(f,b){var c=f.length;if(c===0){return}if(!b){var e=X.length;if(e!==0){var d=X[e-1];if(!d[3]){b=d[1]}}}if(aa!==b){if(aa){at[ab++]={pos:aq};if(aa==="sh_url"){sh_setHref(at,ab,ar)}}if(b){var g;if(b==="sh_url"){g=i.cloneNode(false)}else{g=V.cloneNode(false)}g.className=b;at[ab++]={node:g,pos:aq}}}aq+=c;aa=b};var U=/\r\n|\r|\n/g;U.lastIndex=0;var ah=ar.length;while(aq<ah){var S=aq;var Z;var R;var ac=U.exec(ar);if(ac===null){Z=ah;R=ah}else{Z=ac.index;R=U.lastIndex}var ad=ar.substring(S,Z);var p=[];for(;;){var ai=aq-S;var ap;var P=X.length;if(P===0){ap=0}else{ap=X[P-1][2]}var a=W[ap];var au=a.length;var Y=p[ap];if(!Y){Y=p[ap]=[]}var ao=null;var T=-1;for(var s=0;s<au;s++){var ae;if(s<Y.length&&(Y[s]===null||ai<=Y[s].index)){ae=Y[s]}else{var ak=a[s][0];ak.lastIndex=ai;ae=ak.exec(ad);Y[s]=ae}if(ae!==null&&(ao===null||ae.index<ao.index)){ao=ae;T=s;if(ae.index===ai){break}}}if(ao===null){Q(ad.substring(ai),null);break}else{if(ao.index>ai){Q(ad.substring(ai,ao.index),null)}var af=a[T];var ag=af[1];var am;if(ag instanceof Array){for(var r=0;r<ag.length;r++){am=ao[r+1];Q(am,ag[r])}}else{am=ao[0];Q(am,ag)}switch(af[2]){case -1:break;case -2:X.pop();break;case -3:X.length=0;break;default:X.push(af);break}}}if(aa){at[ab++]={pos:aq};if(aa==="sh_url"){sh_setHref(at,ab,ar)}aa=null}aq=R}return at}function sh_getClasses(f){var i=[];var h=f.className;if(h&&h.length>0){var j=h.split(" ");for(var g=0;g<j.length;g++){if(j[g].length>0){i.push(j[g])}}}return i}function sh_addClass(f,h){var e=sh_getClasses(f);for(var g=0;g<e.length;g++){if(h.toLowerCase()===e[g].toLowerCase()){return}}e.push(h);f.className=e.join(" ")}function sh_extractTagsFromNodeList(h,j){var k=h.length;for(var g=0;g<k;g++){var l=h.item(g);switch(l.nodeType){case 1:if(l.nodeName.toLowerCase()==="br"){var i;if(/MSIE/.test(navigator.userAgent)){i="\r"}else{i="\n"}j.text.push(i);j.pos++}else{j.tags.push({node:l.cloneNode(false),pos:j.pos});sh_extractTagsFromNodeList(l.childNodes,j);j.tags.push({pos:j.pos})}break;case 3:case 4:j.text.push(l.data);j.pos+=l.length;break}}}function sh_extractTags(e,f){var d={};d.text=[];d.tags=f;d.pos=0;sh_extractTagsFromNodeList(e.childNodes,d);return d.text.join("")}function sh_mergeTags(o,m){var r=o.length;if(r===0){return m}var p=m.length;if(p===0){return o}var j=[];var n=0;var q=0;while(n<r&&q<p){var k=o[n];var l=m[q];if(k.pos<=l.pos){j.push(k);n++}else{j.push(l);if(m[q+1].pos<=k.pos){q++;j.push(m[q]);q++}else{j.push({pos:k.pos});m[q]={node:l.node.cloneNode(false),pos:k.pos}}}}while(n<r){j.push(o[n]);n++}while(q<p){j.push(m[q]);q++}return j}function sh_insertTags(t,w){var x=document;var s=document.createDocumentFragment();var n=0;var o=t.length;var q=0;var u=w.length;var p=s;while(q<u||n<o){var v;var r;if(n<o){v=t[n];r=v.pos}else{r=u}if(r<=q){if(v.node){var m=v.node;p.appendChild(m);p=m}else{p=p.parentNode}n++}else{p.appendChild(x.createTextNode(w.substring(q,r)));q=r}}return s}function sh_highlightElement(i,m){sh_addClass(i,"sh_sourceCode");var j=[];var h=sh_extractTags(i,j);var n=sh_highlightString(h,m);var k=sh_mergeTags(j,n);var l=sh_insertTags(k,h);while(i.hasChildNodes()){i.removeChild(i.firstChild)}i.appendChild(l)}function sh_getXMLHttpRequest(){if(window.ActiveXObject){return new ActiveXObject("Msxml2.XMLHTTP")}else{if(window.XMLHttpRequest){return new XMLHttpRequest()}}throw"No XMLHttpRequest implementation available"}function sh_load(language,element,prefix,suffix){if(language in sh_requests){sh_requests[language].push(element);return}sh_requests[language]=[element];var request=sh_getXMLHttpRequest();var url=prefix+"sh_"+language+suffix;request.open("GET",url,true);request.onreadystatechange=function(){if(request.readyState===4){try{if(!request.status||request.status===200){eval(request.responseText);var elements=sh_requests[language];for(var i=0;i<elements.length;i++){sh_highlightElement(elements[i],sh_languages[language])}}else{throw"HTTP error: status "+request.status}}finally{request=null}}};request.send(null)}function sh_highlightDocument(h,b){var e=document.getElementsByTagName("pre");for(var g=0;g<e.length;g++){var f=e.item(g);var a=f.className.toLowerCase();var d=a.replace(/sh_sourcecode/g,"");if(d.indexOf("sh_")!=-1){d=d.match(/(\bsh_)\w+\b/g)[0]}if(a.indexOf("sh_sourcecode")!=-1){continue}if(d.substr(0,3)==="sh_"){var c=d.substring(3);if(c in sh_languages){sh_highlightElement(f,sh_languages[c])}else{if(typeof(h)==="string"&&typeof(b)==="string"){sh_load(c,f,h,b)}else{console.log('Found <pre> element with class="'+d+'", but no such language exists');continue}}break}}}if(!this.sh_languages){this.sh_languages={}}sh_languages.c=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",10,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",13],[/'/g,"sh_string",14],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",11],[/"/g,"sh_string",12],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.cpp=[[[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",10,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",13],[/'/g,"sh_string",14],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",11],[/"/g,"sh_string",12],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.csharp=[[[/\b(?:using)\b/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))(?:[FfDdMmUulL]+)?\b/g,"sh_number",-1],[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:abstract|event|new|struct|as|explicit|null|switch|base|extern|this|false|operator|throw|break|finally|out|true|fixed|override|try|case|params|typeof|catch|for|private|foreach|protected|checked|goto|public|unchecked|class|if|readonly|unsafe|const|implicit|ref|continue|in|return|virtual|default|interface|sealed|volatile|delegate|internal|do|is|sizeof|while|lock|stackalloc|else|static|enum|namespace|get|partial|set|value|where|yield)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",10,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",13],[/'/g,"sh_string",14],[/\b(?:bool|byte|sbyte|char|decimal|double|float|int|uint|long|ulong|object|short|ushort|string|void)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",11],[/"/g,"sh_string",12],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.css=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(?:\.|#)[A-Za-z0-9_]+/g,"sh_selector",-1],[/\{/g,"sh_cbracket",10,1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\}/g,"sh_cbracket",-2],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/[A-Za-z0-9_-]+[ \t]*:/g,"sh_property",-1],[/[.%A-Za-z0-9_-]+/g,"sh_value",-1],[/#(?:[A-Za-z0-9_]+)/g,"sh_string",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.flex=[[[/^%\{/g,"sh_preproc",1,1],[/^%[sx]/g,"sh_preproc",16,1],[/^%option/g,"sh_preproc",17,1],[/^%(?:array|pointer|[aceknopr])/g,"sh_preproc",-1],[/[A-Za-z_][A-Za-z0-9_-]*/g,"sh_preproc",19,1],[/^%%/g,"sh_preproc",20,1]],[[/^%\}/g,"sh_preproc",-2],[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",11,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",14],[/'/g,"sh_string",15],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",3,1],[/<!DOCTYPE/g,"sh_preproc",5,1],[/<!--/g,"sh_comment",6],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",7,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",7,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",4]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",4]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",6]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",4]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",3,1],[/<!DOCTYPE/g,"sh_preproc",5,1],[/<!--/g,"sh_comment",6],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",7,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",7,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",12],[/"/g,"sh_string",13],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/$/g,null,-2],[/[A-Za-z_][A-Za-z0-9_-]*/g,"sh_function",-1]],[[/$/g,null,-2],[/[A-Za-z_][A-Za-z0-9_-]*/g,"sh_keyword",-1],[/"/g,"sh_string",18],[/=/g,"sh_symbol",-1]],[[/$/g,null,-2],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\{[A-Za-z_][A-Za-z0-9_-]*\}/g,"sh_type",-1],[/"/g,"sh_string",13],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1]],[[/^%%/g,"sh_preproc",21,1],[/<[A-Za-z_][A-Za-z0-9_-]*>/g,"sh_function",-1],[/"/g,"sh_string",13],[/\\./g,"sh_preproc",-1],[/\{[A-Za-z_][A-Za-z0-9_-]*\}/g,"sh_type",-1],[/\/\*/g,"sh_comment",22],[/\{/g,"sh_cbracket",23,1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1]],[[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",11,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",14],[/'/g,"sh_string",15],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/\*\//g,"sh_comment",-2],[/\/\*/g,"sh_comment",22]],[[/\}/g,"sh_cbracket",-2],[/\{/g,"sh_cbracket",23,1],[/\$./g,"sh_variable",-1],[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",11,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",14],[/'/g,"sh_string",15],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.html=[[[/<\?xml/g,"sh_preproc",1,1],[/<!DOCTYPE/g,"sh_preproc",3,1],[/<!--/g,"sh_comment",4],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",5,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",5,1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",4]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.java=[[[/\b(?:import|package)\b/g,"sh_preproc",-1],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",10],[/'/g,"sh_string",11],[/(\b(?:class|interface))([ \t]+)([$A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:abstract|assert|break|case|catch|class|const|continue|default|do|else|extends|false|final|finally|for|goto|if|implements|instanceof|interface|native|new|null|private|protected|public|return|static|strictfp|super|switch|synchronized|throw|throws|true|this|transient|try|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:int|byte|boolean|char|long|float|double|short|void)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.javascript=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/\b(?:abstract|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|final|finally|for|function|goto|if|implements|in|instanceof|interface|native|new|null|private|protected|prototype|public|return|static|super|switch|synchronized|throw|throws|this|transient|true|try|typeof|var|volatile|while|with)\b/g,"sh_keyword",-1],[/(\+\+|--|\)|\])(\s*)(\/=?(?![*\/]))/g,["sh_symbol","sh_normal","sh_symbol"],-1],[/(0x[A-Fa-f0-9]+|(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?)(\s*)(\/(?![*\/]))/g,["sh_number","sh_normal","sh_symbol"],-1],[/([A-Za-z$_][A-Za-z0-9$_]*\s*)(\/=?(?![*\/]))/g,["sh_normal","sh_symbol"],-1],[/\/(?:\\.|[^*\\\/])(?:\\.|[^\\\/])*\/[gim]*/g,"sh_regexp",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",10],[/'/g,"sh_string",11],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/\b(?:Math|Infinity|NaN|undefined|arguments)\b/g,"sh_predef_var",-1],[/\b(?:Array|Boolean|Date|Error|EvalError|Function|Number|Object|RangeError|ReferenceError|RegExp|String|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt)\b/g,"sh_predef_func",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.javascript_dom=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/\b(?:abstract|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|final|finally|for|function|goto|if|implements|in|instanceof|interface|native|new|null|private|protected|prototype|public|return|static|super|switch|synchronized|throw|throws|this|transient|true|try|typeof|var|volatile|while|with)\b/g,"sh_keyword",-1],[/(\+\+|--|\)|\])(\s*)(\/=?(?![*\/]))/g,["sh_symbol","sh_normal","sh_symbol"],-1],[/(0x[A-Fa-f0-9]+|(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?)(\s*)(\/(?![*\/]))/g,["sh_number","sh_normal","sh_symbol"],-1],[/([A-Za-z$_][A-Za-z0-9$_]*\s*)(\/=?(?![*\/]))/g,["sh_normal","sh_symbol"],-1],[/\/(?:\\.|[^*\\\/])(?:\\.|[^\\\/])*\/[gim]*/g,"sh_regexp",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",10],[/'/g,"sh_string",11],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/\b(?:Math|Infinity|NaN|undefined|arguments)\b/g,"sh_predef_var",-1],[/\b(?:Array|Boolean|Date|Error|EvalError|Function|Number|Object|RangeError|ReferenceError|RegExp|String|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt)\b/g,"sh_predef_func",-1],[/\b(?:applicationCache|closed|Components|content|controllers|crypto|defaultStatus|dialogArguments|directories|document|frameElement|frames|fullScreen|globalStorage|history|innerHeight|innerWidth|length|location|locationbar|menubar|name|navigator|opener|outerHeight|outerWidth|pageXOffset|pageYOffset|parent|personalbar|pkcs11|returnValue|screen|availTop|availLeft|availHeight|availWidth|colorDepth|height|left|pixelDepth|top|width|screenX|screenY|scrollbars|scrollMaxX|scrollMaxY|scrollX|scrollY|self|sessionStorage|sidebar|status|statusbar|toolbar|top|window)\b/g,"sh_predef_var",-1],[/\b(?:alert|addEventListener|atob|back|blur|btoa|captureEvents|clearInterval|clearTimeout|close|confirm|dump|escape|find|focus|forward|getAttention|getComputedStyle|getSelection|home|moveBy|moveTo|open|openDialog|postMessage|print|prompt|releaseEvents|removeEventListener|resizeBy|resizeTo|scroll|scrollBy|scrollByLines|scrollByPages|scrollTo|setInterval|setTimeout|showModalDialog|sizeToContent|stop|unescape|updateCommands|onabort|onbeforeunload|onblur|onchange|onclick|onclose|oncontextmenu|ondragdrop|onerror|onfocus|onkeydown|onkeypress|onkeyup|onload|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onpaint|onreset|onresize|onscroll|onselect|onsubmit|onunload)\b/g,"sh_predef_func",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.perl=[[[/\b(?:import)\b/g,"sh_preproc",-1],[/(s)(\{(?:\\\}|[^}])*\}\{(?:\\\}|[^}])*\})([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(s)(\((?:\\\)|[^)])*\)\((?:\\\)|[^)])*\))([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(s)(\[(?:\\\]|[^\]])*\]\[(?:\\\]|[^\]])*\])([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(s)(<.*><.*>)([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(q(?:q?))(\{(?:\\\}|[^}])*\})/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))(\((?:\\\)|[^)])*\))/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))(\[(?:\\\]|[^\]])*\])/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))(<.*>)/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))([^A-Za-z0-9 \t])(.*\2)/g,["sh_keyword","sh_string","sh_string"],-1],[/(s)([^A-Za-z0-9 \t])(.*\2.*\2)([ixsmogce]*(?=[ \t]*(?:\)|;)))/g,["sh_keyword","sh_regexp","sh_regexp","sh_keyword"],-1],[/(s)([^A-Za-z0-9 \t])(.*\2[ \t]*)([^A-Za-z0-9 \t])(.*\4)([ixsmogce]*(?=[ \t]*(?:\)|;)))/g,["sh_keyword","sh_regexp","sh_regexp","sh_regexp","sh_regexp","sh_keyword"],-1],[/#/g,"sh_comment",1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/(?:m|qr)(?=\{)/g,"sh_keyword",2],[/(?:m|qr)(?=#)/g,"sh_keyword",4],[/(?:m|qr)(?=\|)/g,"sh_keyword",6],[/(?:m|qr)(?=@)/g,"sh_keyword",8],[/(?:m|qr)(?=<)/g,"sh_keyword",10],[/(?:m|qr)(?=\[)/g,"sh_keyword",12],[/(?:m|qr)(?=\\)/g,"sh_keyword",14],[/(?:m|qr)(?=\/)/g,"sh_keyword",16],[/"/g,"sh_string",18],[/'/g,"sh_string",19],[/</g,"sh_string",20],[/\/[^\n]*\//g,"sh_string",-1],[/\b(?:chomp|chop|chr|crypt|hex|i|index|lc|lcfirst|length|oct|ord|pack|q|qq|reverse|rindex|sprintf|substr|tr|uc|ucfirst|m|s|g|qw|abs|atan2|cos|exp|hex|int|log|oct|rand|sin|sqrt|srand|my|local|our|delete|each|exists|keys|values|pack|read|syscall|sysread|syswrite|unpack|vec|undef|unless|return|length|grep|sort|caller|continue|dump|eval|exit|goto|last|next|redo|sub|wantarray|pop|push|shift|splice|unshift|split|switch|join|defined|foreach|last|chop|chomp|bless|dbmclose|dbmopen|ref|tie|tied|untie|while|next|map|eq|die|cmp|lc|uc|and|do|if|else|elsif|for|use|require|package|import|chdir|chmod|chown|chroot|fcntl|glob|ioctl|link|lstat|mkdir|open|opendir|readlink|rename|rmdir|stat|symlink|umask|unlink|utime|binmode|close|closedir|dbmclose|dbmopen|die|eof|fileno|flock|format|getc|print|printf|read|readdir|rewinddir|seek|seekdir|select|syscall|sysread|sysseek|syswrite|tell|telldir|truncate|warn|write|alarm|exec|fork|getpgrp|getppid|getpriority|kill|pipe|qx|setpgrp|setpriority|sleep|system|times|x|wait|waitpid)\b/g,"sh_keyword",-1],[/^\=(?:head1|head2|item)/g,"sh_comment",21],[/(?:\$[#]?|@|%)[\/A-Za-z0-9_]+/g,"sh_variable",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2]],[[/\{/g,"sh_regexp",3]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\{|\\\}|\}/g,"sh_regexp",-3]],[[/#/g,"sh_regexp",5]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\#|#/g,"sh_regexp",-3]],[[/\|/g,"sh_regexp",7]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\||\|/g,"sh_regexp",-3]],[[/@/g,"sh_regexp",9]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\@|@/g,"sh_regexp",-3]],[[/</g,"sh_regexp",11]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\<|\\>|>/g,"sh_regexp",-3]],[[/\[/g,"sh_regexp",13]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\]|\]/g,"sh_regexp",-3]],[[/\\/g,"sh_regexp",15]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\\|\\/g,"sh_regexp",-3]],[[/\//g,"sh_regexp",17]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\/|\//g,"sh_regexp",-3]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/\=cut/g,"sh_comment",-2]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.php=[[[/\b(?:include|include_once|require|require_once)\b/g,"sh_preproc",-1],[/\/\//g,"sh_comment",1],[/#/g,"sh_comment",1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",2],[/'/g,"sh_string",3],[/\b(?:and|or|xor|__FILE__|exception|php_user_filter|__LINE__|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|each|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|for|foreach|function|global|if|isset|list|new|old_function|print|return|static|switch|unset|use|var|while|__FUNCTION__|__CLASS__|__METHOD__)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",4],[/\/\//g,"sh_comment",1],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(?:\$[#]?|@|%)[A-Za-z0-9_]+/g,"sh_variable",-1],[/<\?php|~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",5,1],[/<!DOCTYPE/g,"sh_preproc",6,1],[/<!--/g,"sh_comment",7],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",8,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",8,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",7]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",5,1],[/<!DOCTYPE/g,"sh_preproc",6,1],[/<!--/g,"sh_comment",7],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",8,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",8,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.python=[[[/\b(?:import|from)\b/g,"sh_preproc",-1],[/#/g,"sh_comment",1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/\b(?:and|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|global|if|in|is|lambda|not|or|pass|print|raise|return|try|while)\b/g,"sh_keyword",-1],[/^(?:[\s]*'{3})/g,"sh_comment",2],[/^(?:[\s]*\"{3})/g,"sh_comment",3],[/^(?:[\s]*'(?:[^\\']|\\.)*'[\s]*|[\s]*\"(?:[^\\\"]|\\.)*\"[\s]*)$/g,"sh_comment",-1],[/(?:[\s]*'{3})/g,"sh_string",4],[/(?:[\s]*\"{3})/g,"sh_string",5],[/"/g,"sh_string",6],[/'/g,"sh_string",7],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\||\{|\}/g,"sh_symbol",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2]],[[/(?:'{3})/g,"sh_comment",-2]],[[/(?:\"{3})/g,"sh_comment",-2]],[[/(?:'{3})/g,"sh_string",-2]],[[/(?:\"{3})/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.ruby=[[[/\b(?:require)\b/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",1],[/'/g,"sh_string",2],[/</g,"sh_string",3],[/\/[^\n]*\//g,"sh_regexp",-1],[/(%r)(\{(?:\\\}|#\{[A-Za-z0-9]+\}|[^}])*\})/g,["sh_symbol","sh_regexp"],-1],[/\b(?:alias|begin|BEGIN|break|case|defined|do|else|elsif|end|END|ensure|for|if|in|include|loop|next|raise|redo|rescue|retry|return|super|then|undef|unless|until|when|while|yield|false|nil|self|true|__FILE__|__LINE__|and|not|or|def|class|module|catch|fail|load|throw)\b/g,"sh_keyword",-1],[/(?:^\=begin)/g,"sh_comment",4],[/(?:\$[#]?|@@|@)(?:[A-Za-z0-9_]+|'|\"|\/)/g,"sh_type",-1],[/[A-Za-z0-9]+(?:\?|!)/g,"sh_normal",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/(#)(\{)/g,["sh_symbol","sh_cbracket"],-1],[/#/g,"sh_comment",5],[/\{|\}/g,"sh_cbracket",-1]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/^(?:\=end)/g,"sh_comment",-2]],[[/$/g,null,-2]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.sql=[[[/\b(?:VARCHAR|TINYINT|TEXT|DATE|SMALLINT|MEDIUMINT|INT|BIGINT|FLOAT|DOUBLE|DECIMAL|DATETIME|TIMESTAMP|TIME|YEAR|UNSIGNED|CHAR|TINYBLOB|TINYTEXT|BLOB|MEDIUMBLOB|MEDIUMTEXT|LONGBLOB|LONGTEXT|ENUM|BOOL|BINARY|VARBINARY)\b/gi,"sh_type",-1],[/\b(?:ALL|ASC|AS|ALTER|AND|ADD|AUTO_INCREMENT|BETWEEN|BINARY|BOTH|BY|BOOLEAN|CHANGE|CHECK|COLUMNS|COLUMN|CROSS|CREATE|DATABASES|DATABASE|DATA|DELAYED|DESCRIBE|DESC|DISTINCT|DELETE|DROP|DEFAULT|ENCLOSED|ESCAPED|EXISTS|EXPLAIN|FIELDS|FIELD|FLUSH|FOR|FOREIGN|FUNCTION|FROM|GROUP|GRANT|HAVING|IGNORE|INDEX|INFILE|INSERT|INNER|INTO|IDENTIFIED|IN|IS|IF|JOIN|KEYS|KILL|KEY|LEADING|LIKE|LIMIT|LINES|LOAD|LOCAL|LOCK|LOW_PRIORITY|LEFT|LANGUAGE|MODIFY|NATURAL|NOT|NULL|NEXTVAL|OPTIMIZE|OPTION|OPTIONALLY|ORDER|OUTFILE|OR|OUTER|ON|PROCEDURE|PROCEDURAL|PRIMARY|READ|REFERENCES|REGEXP|RENAME|REPLACE|RETURN|REVOKE|RLIKE|RIGHT|SHOW|SONAME|STATUS|STRAIGHT_JOIN|SELECT|SETVAL|SET|TABLES|TERMINATED|TO|TRAILING|TRUNCATE|TABLE|TEMPORARY|TRIGGER|TRUSTED|UNIQUE|UNLOCK|USE|USING|UPDATE|VALUES|VARIABLES|VIEW|WITH|WRITE|WHERE|ZEROFILL|TYPE|XOR)\b/gi,"sh_keyword",-1],[/"/g,"sh_string",1],[/'/g,"sh_string",2],[/`/g,"sh_string",3],[/#/g,"sh_comment",4],[/\/\/\//g,"sh_comment",5],[/\/\//g,"sh_comment",4],[/\/\*\*/g,"sh_comment",11],[/\/\*/g,"sh_comment",12],[/--/g,"sh_comment",4],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/`/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/$/g,null,-2]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",6,1],[/<!DOCTYPE/g,"sh_preproc",8,1],[/<!--/g,"sh_comment",9],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",10,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",10,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",7]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",7]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",9]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",7]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",6,1],[/<!DOCTYPE/g,"sh_preproc",8,1],[/<!--/g,"sh_comment",9],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",10,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",10,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.url=[[{regex:/(?:<?)[A-Za-z0-9_\.\/\-_]+@[A-Za-z0-9_\.\/\-_]+(?:>?)/g,style:"sh_url"},{regex:/(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_]+(?:>?)/g,style:"sh_url"}]];if(!this.sh_languages){this.sh_languages={}}sh_languages.xml=[[[/<\?xml/g,"sh_preproc",1,1],[/<!DOCTYPE/g,"sh_preproc",3,1],[/<!--/g,"sh_comment",4],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",5,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",4]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]]];function showJTopoToobar(a){var b=$('<div class="jtopo_toolbar">').html('<label class="i-checks i-checks-sm m-r-xs"> <input type="radio" name="modeRadio" value="normal" checked id="r1"><i></i>默认</label><label class="i-checks i-checks-sm m-r-xs"> <input type="radio" name="modeRadio" value="select" id="r2"><i></i>框选</label><label class="i-checks i-checks-sm m-r-xs"> <input type="radio" name="modeRadio" value="drag" id="r3"><i></i>平移</label><label class="i-checks i-checks-sm m-r-md"> <input type="radio" name="modeRadio" value="edit" id="r4"><i></i>编辑</label><button class="btn m-b-xs btn-xs btn-primary m-r-xs"  id="centerButton"><i class="fa fa-align-center"></i> 居 中</button><button class="btn m-b-xs btn-xs btn-info m-r-xs"  id="fullScreenButton"><i class="icon-size-fullscreen"></i> 全 屏</button><button class="btn m-b-xs btn-xs btn-success m-r-xs"  id="zoomOutButton"><i class="icon-magnifier-add"></i>  放 大</button><button class="btn m-b-xs btn-xs btn-danger m-r-md"  id="zoomInButton"><i class="icon-magnifier-remove"></i>  缩 小</button><label class="i-checks i-checks-sm m-r" ><input type="checkbox" id="zoomCheckbox" ><i></i>鼠标缩放</label><input type="text" id="findText" class="form-control" value="" onkeydown="findButton.click()" style="display: inline-block;width: 200px;height: 26px"><button class="btn m-b-xs btn-xs btn-primary m-l-xs m-t-xs" id="findButton"><i class="icon-magnifier"></i> 查 询</button><button class="btn btn-xs btn-info pull-right m-t-xs" id="exportButton"><i class="fa fa-floppy-o"></i> 导出PNG</button>');$("#content").prepend(b);$("input[name='modeRadio']").click(function(){a.mode=$("input[name='modeRadio']:checked").val()});$("#centerButton").click(function(){a.centerAndZoom()});$("#zoomOutButton").click(function(){a.zoomOut()});$("#zoomInButton").click(function(){a.zoomIn()});$("#exportButton").click(function(){a.saveImageInfo()});$("#zoomCheckbox").click(function(){$(this).toggleClass("checked");if($("#zoomCheckbox").hasClass("checked")){a.wheelZoom=1.15}else{a.wheelZoom=null}});$("#fullScreenButton").click(function(){runPrefixMethod(a.canvas,"RequestFullScreen")});$("#findButton").click(function(){var c=$("#findText").val().trim();var f=a.find('node[text="'+c+'"]');if(f.length>0){var g=f[0];g.selected=true;var e=g.getCenterLocation();a.setCenter(e.x,e.y);function d(h,i){if(i==0){h.selected=false;return}h.selected=!h.selected;setTimeout(function(){d(h,i-1)},300)}d(g,6)}})}var runPrefixMethod=function(b,c){var a;["webkit","moz","ms","o",""].forEach(function(d){if(a){return}if(d===""){c=c.slice(0,1).toLowerCase()+c.slice(1)}var e=typeof b[d+c];if(e+""!=="undefined"){if(e==="function"){a=b[d+c]()}else{a=b[d+c]}}});return a};